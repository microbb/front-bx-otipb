{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modals/modalCore.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modals/components/modal.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modals/components/modalDynamics.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/accordion/accordionCore.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/accordion/components/accordion.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/dropdown/dropdownCore.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/dropdown/components/dropdown.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/dropdown/components/dropdownSelect.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/dropdown/components/dropdownInput.js","webpack://gulp-html-scss/./src/js/core/component.js","webpack://gulp-html-scss/./src/js/plugin/form-validator/form.js","webpack://gulp-html-scss/./src/js/plugin/form-validator/validators.js","webpack://gulp-html-scss/./src/js/services/api.service.js","webpack://gulp-html-scss/./src/js/plugin/chaining-select-in-form.plugin.js","webpack://gulp-html-scss/./src/js/components/loader.component.js","webpack://gulp-html-scss/./src/js/templates/optionSelect.template.js","webpack://gulp-html-scss/./src/js/components/form-add-user.component.js","webpack://gulp-html-scss/./src/js/components/form-filter.component.js","webpack://gulp-html-scss/./src/js/core/support.js","webpack://gulp-html-scss/./src/js/templates/attribute.template.js","webpack://gulp-html-scss/./src/js/templates/user/userInfo.template.js","webpack://gulp-html-scss/./src/js/templates/card/cardPlug.template.js","webpack://gulp-html-scss/./src/js/templates/user/userCardInfo.template.js","webpack://gulp-html-scss/./src/js/templates/card/card.template.js","webpack://gulp-html-scss/./src/js/templates/card/training.template.js","webpack://gulp-html-scss/./src/js/templates/card/cardRecertification.template.js","webpack://gulp-html-scss/./src/js/components/form-edit-user.component.js","webpack://gulp-html-scss/./src/js/components/form-delete-user-or-card.component.js","webpack://gulp-html-scss/./src/js/components/form-add-or-edit-card.component.js","webpack://gulp-html-scss/./src/js/components/form-add-or-edit-hse.component.js","webpack://gulp-html-scss/./src/js/templates/workName.template.js","webpack://gulp-html-scss/./src/js/components/form-search.component.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/pagination/paginationCore.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/pagination/components/pagination.js","webpack://gulp-html-scss/./src/js/templates/user/userMain.template.js","webpack://gulp-html-scss/./src/js/templates/user/userPlug.template.js","webpack://gulp-html-scss/./src/js/components/result-filter.component.js","webpack://gulp-html-scss/./src/js/components/result-main.component.js","webpack://gulp-html-scss/./src/js/components/result-search.component.js","webpack://gulp-html-scss/./src/js/plugin/stretch-in-select.plugin.js","webpack://gulp-html-scss/./src/js/plugin/search-in-select.plugin.js","webpack://gulp-html-scss/./src/js/components/visitor.pattern.js","webpack://gulp-html-scss/./src/js/main.js"],"sourcesContent":["\r\n/**\r\n *  Модальное окно Ядро\r\n * */\r\nexport default class ModalCore {\r\n\r\n  /**\r\n   * Добавляет новый метод к модалки, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import ModalCore from \"../modalCore\";\r\n\r\n/**\r\n *  Модальное окно стандарт\r\n * */\r\nexport default class Modal extends ModalCore{\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggerSelector - селектор который открывает модальное окно.\r\n   * @param {Object=} options        - конфигурация.\r\n   */\r\n  constructor(triggerSelector ,\r\n              {\r\n                modalSelector = null,          // - селектор модального окна которое мы будем открывать.\r\n                modalGroup = '[data-sumbiot-modal]', // - группирует модалки в группы\r\n                closeSelector = '[data-sumbiot-modal-close]', // - селектор который закрывает модальное окно.\r\n                closeClickOverlay = true,      // - будет ли закрываться окно по клику по подложки\r\n              } = {}) {\r\n\r\n    super()\r\n\r\n    this._trigger = triggerSelector\r\n    this.modal = document.querySelector(modalSelector || document.querySelector(triggerSelector).dataset.sumbiotTarget)\r\n    this._close = this.modal.querySelector(closeSelector)\r\n\r\n    this._modalGroupSelector = modalGroup\r\n    this._windows = document.querySelectorAll(modalGroup)\r\n    this._closeClickOverlay = closeClickOverlay\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация модального окона\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.hideAllModals()\r\n\r\n    this._showHandler()\r\n\r\n    this._closeHandler()\r\n  }\r\n\r\n  /**\r\n   * Скрывает все модальные окна\r\n   * @return {void}\r\n   */\r\n  hideAllModals() {\r\n    this._windows.forEach(modal => {\r\n      modal.classList.add('animated', 'fadeIn');\r\n      modal.style.display = 'none';\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _showHandler() {\r\n    document.addEventListener('click', (e) => {\r\n      const target = e.target;\r\n\r\n      if (target && target.classList.contains(this._trigger.slice(1)) || target && target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        this._show()\r\n\r\n        setTimeout(() =>{\r\n          target.blur()\r\n        },150)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Показать модальное окно\r\n   * @return {void}\r\n   */\r\n  _show(){\r\n    this.hideAllModals()\r\n\r\n    this.modal.style.display = \"block\";\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который закрывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeHandler() {\r\n    this._close.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.preventDefault()\r\n\r\n        this._closeModal()\r\n      }\r\n    })\r\n\r\n    this.modal.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.stopPropagation()\r\n\r\n        this._closeModalOverlay(e)\r\n      }\r\n    })\r\n\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if(e.key === \"Escape\" || e.keyCode === 27) {\r\n        this._closeModalEscape(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Скрыть модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeModal() {\r\n    this.modal.style.display = \"none\";\r\n  }\r\n\r\n  /**\r\n   * Скрыть модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeModalEscape(e) {\r\n\r\n    document.querySelectorAll(this._modalGroupSelector).forEach((modals)=>{\r\n      if(modals.style.display === 'block'){\r\n        modals.style.display = \"none\"\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Скрывает модальне окно по клику на подложку\r\n   * @return {void}\r\n   */\r\n  _closeModalOverlay(e) {\r\n\r\n    if (e.target === this.modal && this._closeClickOverlay) {\r\n      this.modal.style.display = \"none\";\r\n    }\r\n  }\r\n}\r\n","import Modal from \"./modal\";\r\n\r\n/**\r\n *  Модальное окна c привязкой к блоку\r\n * */\r\nexport default class ModalDynamics extends Modal{\r\n\r\n  /**\r\n   * Создает скрытый input\r\n   * @return {Node}\r\n   */\r\n  static createInput() {\r\n    const input = document.createElement('input')\r\n\r\n    input.classList.add('sumbiot-input-dynamic')\r\n\r\n    input.setAttribute('type','hidden')\r\n    input.setAttribute('name','ID')\r\n\r\n    return input\r\n  }\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggerSelector - селектор который открывает модальное окно.\r\n   * @param {Object=} options        - конфигурация.\r\n   */\r\n  constructor(triggerSelector, options = {}) {\r\n\r\n    super(triggerSelector,options)\r\n\r\n    this._wrapperModalSelector = options.modalWrapper || '.sumbiot-wrapper'            // - родитель куда вставляем модальное окно\r\n    this._wrapperElementSelector = options.elementWrapper || '[data-sumbiot-wrapper]'  // - родитель куда вставить input\r\n    this._existsElementForPasteIdSelector = options.existsElementForPasteId            // - элемент уже существует в форме и готов с добавлению id\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _showHandler() {\r\n    document.addEventListener('click', (e) => {\r\n      const target = e.target;\r\n\r\n      if (target && target.classList.contains(this._trigger.slice(1))) {\r\n          e.preventDefault()\r\n\r\n          this._triggerEvent = target\r\n          this._show()\r\n      }else if(target && target.parentElement.classList.contains(this._trigger.slice(1))) {\r\n          e.preventDefault()\r\n\r\n          this._triggerEvent = target.parentElement\r\n          this._show()\r\n      }\r\n\r\n    },true)\r\n  }\r\n\r\n  /**\r\n   * Показать модальное окно\r\n   * @return {void}\r\n   */\r\n  _show(){\r\n\r\n    this.hideAllModals()\r\n\r\n    this._modalPosition()\r\n\r\n    this.modal.style.display = \"block\";\r\n  }\r\n\r\n  /**\r\n   * Позицианирует модальное окно в нужное место\r\n   * @return {void}\r\n   */\r\n  _modalPosition(){\r\n\r\n    this._elementPosition()\r\n\r\n    if(!this._triggerEvent.closest(this._wrapperModalSelector)) {\r\n      this._triggerEvent.parentElement.classList.add(this._wrapperModalSelector.slice(1))\r\n    }\r\n\r\n    this._wpapper = this._triggerEvent.closest(this._wrapperModalSelector)\r\n    this._wpapper.append(this.modal)\r\n  }\r\n\r\n  /**\r\n   * Вставляет input или добавляет data-sumbiot-id в нужный элемент\r\n   * @return {void}\r\n   */\r\n  _elementPosition() {\r\n    let id = this._triggerEvent.dataset.id,\r\n        elementForPasteId  = this.modal.querySelector(this._existsElementForPasteIdSelector || '.sumbiot-input-dynamic')\r\n\r\n    if(!elementForPasteId) {\r\n      elementForPasteId = ModalDynamics.createInput()\r\n\r\n      this.modal.querySelector(this._wrapperElementSelector) ?\r\n        this.modal.querySelector(this._wrapperElementSelector).prepend(elementForPasteId) :\r\n        this.modal.querySelector('form').prepend(elementForPasteId)\r\n    }\r\n\r\n    this._existsElementForPasteIdSelector ? elementForPasteId.setAttribute('data-sumbiot-id',id) : elementForPasteId.setAttribute('value',id)\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Аккардион Ядро\r\n * */\r\nexport default class AccordionCore {\r\n\r\n  /**\r\n   * Добавляет новый метод к аккардион, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import AccordionCore from \"../accordionCore\";\r\n\r\n/**\r\n *  Аккардион стандарт\r\n * */\r\n\r\nexport default class Accordion extends AccordionCore{\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggersSelector - селектор который открывает скрытый контент.\r\n   * @param {Object=} options         - конфигурация.\r\n   */\r\n  constructor(triggersSelector,\r\n              {\r\n                headActive = null,      // - активный класс пункта\r\n                contentActive  = null,  // - активный класс контента\r\n                display = 'block',      // - тип отображаемого элемента\r\n                hideOpen = true         // - при открытии аккардиона скрывает все открытые\r\n              } = {}) {\r\n\r\n    super();\r\n\r\n    this._triggerSelector = triggersSelector\r\n    this._headActive = headActive || 'sumbiot-accordion-head'\r\n    this._contentActive = contentActive || 'sumbiot-accordion-content'\r\n    this._display = display\r\n    this._hideOpen = hideOpen\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация аккардиона\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this._toggleHandler()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события переключения\r\n   * @return {void}\r\n   */\r\n  _toggleHandler() {\r\n    document.addEventListener('click', (e) => {\r\n      const target = e.target;\r\n\r\n      if (target && target.closest(this._triggerSelector)) {\r\n        const triggerElement = target.closest(this._triggerSelector),\r\n              toggleContent = triggerElement.nextElementSibling\r\n\r\n        if(this._hideOpen){\r\n          document.querySelectorAll(this._triggerSelector).forEach(element => {\r\n\r\n            if(triggerElement === element) {\r\n\r\n              this._toggle(triggerElement,toggleContent,e)\r\n\r\n            }else {\r\n\r\n              element.classList.remove(this._headActive)\r\n              element.nextElementSibling.classList.remove(this._contentActive)\r\n\r\n              element.nextElementSibling.style.display = 'none'\r\n            }\r\n\r\n          })\r\n\r\n        }else {\r\n          this._toggle(triggerElement,toggleContent,e)\r\n        }\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Переключатель\r\n   * @return {void}\r\n   */\r\n  _toggle(triggerElement,toggleContent,e){\r\n    if (e.target) {\r\n      e.preventDefault()\r\n    }\r\n\r\n    toggleContent.style.display = toggleContent.style.display === this._display ? 'none' : this._display\r\n\r\n    triggerElement.classList.toggle(this._headActive)\r\n    setTimeout(()=> {\r\n      toggleContent.classList.toggle(this._contentActive)\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Выподающий список Ядро\r\n * */\r\nexport default class DropdownCore {\r\n\r\n  /**\r\n   * Добавляет новый метод к выподающиму списку, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import DropdownCore from \"../dropdownCore\";\r\n\r\n/**\r\n *  Выподающий список стандарт\r\n * */\r\nexport default class Dropdown extends DropdownCore {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} dropdownSelector - селектор выподающего списка.\r\n   * @param {Object=} options         - конфигурация.\r\n   */\r\n  constructor(dropdownSelector ,\r\n              {\r\n                dropdownToggleSelector = '.dropdown-sumbiot__toggle',        // - активный пункт\r\n                dropdownOptionsWrapperSelector = '.dropdown-sumbiot__options', // - выпадающий список\r\n                display = 'block'  // - тип отображения элемента\r\n              } = {}) {\r\n\r\n    super()\r\n\r\n    this._dropdownSelector = dropdownSelector\r\n    this._dropdownToggleSelector = dropdownToggleSelector\r\n    this._listDropdowns = document.querySelectorAll(dropdownSelector)\r\n    this._listDropdownsOptions = document.querySelectorAll(dropdownOptionsWrapperSelector)\r\n\r\n    this._display = display\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация выподающего списка\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n\r\n    this.hideAllDropdowns()\r\n\r\n    this._toggleHandler()\r\n\r\n  }\r\n\r\n  /**\r\n   * Скрывает все открытые выподающие списки\r\n   * @return {void}\r\n   */\r\n  hideAllDropdowns() {\r\n    this._listDropdownsOptions.forEach(dropdownOpen => {\r\n\r\n      if(this._target) {\r\n        if(this._target.nextElementSibling !== dropdownOpen) {\r\n          dropdownOpen.style.display = 'none';\r\n        }\r\n      }else {\r\n        dropdownOpen.style.display = 'none';\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает выподающие меню\r\n   * @return {void}\r\n   */\r\n  _toggleHandler() {\r\n    this._listDropdowns.forEach(dropdown => {\r\n\r\n      dropdown.addEventListener('click', (e) => {\r\n\r\n        if (e.target && e.target.classList.contains(this._dropdownToggleSelector.slice(1))) {\r\n          e.preventDefault()\r\n\r\n          this._target = e.target;\r\n\r\n          this._toggleOptions()\r\n        }\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Открыть выподающие меню\r\n   * @return {void}\r\n   */\r\n  _toggleOptions() {\r\n    this.hideAllDropdowns()\r\n\r\n    this._target.nextElementSibling.style.display = this._target.nextElementSibling.style.display === 'none' ? this._display : 'none'\r\n  }\r\n}\r\n","import Dropdown from \"./dropdown\";\r\n\r\n/**\r\n *  Выподающий список Select\r\n * */\r\nexport default class DropdownSelect extends Dropdown {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} dropdownSelector - селектор выподающего списка.\r\n   * @param {Object=} options         - конфигурация.\r\n   */\r\n  constructor(dropdownSelector,options = {}) {\r\n\r\n    super(dropdownSelector,options);\r\n\r\n    this._dropdownOptionSelector = options.dropdownOptionSelector || '[data-select-option]' // - пункты выподающего списка\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает выподающие меню\r\n   * @return {void}\r\n   */\r\n  _toggleHandler() {\r\n    this._listDropdowns.forEach(dropdown => {\r\n\r\n      this._initInput(dropdown)\r\n\r\n      dropdown.addEventListener('click', (e) => {\r\n\r\n        if (e.target && e.target.classList.contains(this._dropdownToggleSelector.slice(1))) {\r\n          e.preventDefault()\r\n\r\n          this._target = e.target;\r\n\r\n          this._toggleOptions()\r\n        }\r\n        else if (e.target && e.target.matches(this._dropdownOptionSelector)){\r\n          e.preventDefault()\r\n\r\n          this.select(dropdown,e.target)\r\n        }\r\n      })\r\n\r\n    })\r\n\r\n    document.addEventListener('click', e =>{\r\n      if (e.target && !e.target.closest(this._dropdownSelector)) {\r\n\r\n        this._listDropdownsOptions.forEach(dropdownOpen => {\r\n          dropdownOpen.style.display = 'none';\r\n        })\r\n\r\n      }\r\n    }, true)\r\n  }\r\n\r\n  /**\r\n   * Выбирает активный пункт\r\n   * @param {HTMLElement} dropdown - блок выпадающего списка\r\n   * @param {HTMLElement} optionActive - пункт выпадающего списка\r\n   * @return {void}\r\n   */\r\n  select(dropdown,optionActive) {\r\n    const options = dropdown.querySelectorAll(this._dropdownOptionSelector),\r\n          showOption = dropdown.querySelector(this._dropdownToggleSelector)\r\n\r\n    options.forEach(option => {\r\n      option.style.backgroundColor = ''\r\n    })\r\n\r\n    // на пункте\r\n    optionActive.style.backgroundColor = '#e7e7e7'\r\n\r\n    // активный пункт\r\n    showOption.innerHTML = optionActive.innerText\r\n    if(optionActive.getAttribute('title')){\r\n      showOption.setAttribute('title', optionActive.getAttribute('title'))\r\n    } else {\r\n      showOption.removeAttribute('title')\r\n    }\r\n\r\n    // обертка пунктов\r\n    showOption.nextElementSibling.style.display = 'none'\r\n\r\n    // input\r\n    dropdown.previousElementSibling.setAttribute('value',optionActive.dataset.selectOption)\r\n  }\r\n\r\n  /**\r\n   * Создает input для кастомного select(а)\r\n   * @return {void}\r\n   */\r\n  _initInput(dropdown) {\r\n    const input = document.createElement('input')\r\n\r\n    input.classList.add('sumbiot-input-select')\r\n\r\n    input.setAttribute('type','hidden')\r\n    input.setAttribute('name',dropdown.dataset.selectName)\r\n    input.setAttribute('value','')\r\n\r\n    dropdown.insertAdjacentElement('beforebegin', input)\r\n  }\r\n\r\n  /**\r\n   * Сброс input(ов) до состояния по умолчанию для кастомного select(а) в форме\r\n   * @return {void}\r\n   */\r\n  reset(formNode) {\r\n    const toggles = formNode.querySelectorAll(this._dropdownToggleSelector),\r\n          options = formNode.querySelectorAll(this._dropdownOptionSelector),\r\n          inputs = formNode.querySelectorAll('.sumbiot-input-select')\r\n\r\n    // активный пункт\r\n    toggles.forEach(toggle => {\r\n      toggle.innerText = ''\r\n      toggle.removeAttribute('title')\r\n    })\r\n\r\n    // пункты списка\r\n    options.forEach(option => {\r\n      option.style.backgroundColor = ''\r\n    })\r\n\r\n    // input\r\n    inputs.forEach(input => {\r\n      input.setAttribute('value','')\r\n    })\r\n  }\r\n\r\n}\r\n","import Dropdown from \"./dropdown\";\r\n\r\n/**\r\n *  Выподающий список Input\r\n * */\r\nexport default class DropdownInput extends Dropdown {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} dropdownSelector - селектор выподающего списка.\r\n   * @param {Object=} options         - конфигурация.\r\n   */\r\n  constructor(dropdownSelector,options = {}) {\r\n\r\n    super(dropdownSelector,options);\r\n\r\n    this._dropdownOptionSelector = options.dropdownOptionSelector || '[data-input-search-option]' // - пункты выподающего списка\r\n  }\r\n\r\n  /**\r\n   * Инициализация выподающего списка\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n\r\n    this.hideAllDropdowns()\r\n\r\n    this._searchHandler()\r\n\r\n  }\r\n\r\n  /**\r\n   * Скрывает все открытые выподающие списки\r\n   * @return {void}\r\n   */\r\n  hideAllDropdowns() {\r\n    this._listDropdownsOptions.forEach(dropdownOpen => {\r\n      dropdownOpen.style.display = 'none';\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Обработчик событий поиска\r\n   * @return {void}\r\n   */\r\n  _searchHandler() {\r\n    this._listDropdowns.forEach(dropdown => {\r\n\r\n      dropdown.addEventListener('input', (e) => {\r\n\r\n        if (e.target && e.target.classList.contains(this._dropdownToggleSelector.slice(1))) {\r\n          e.preventDefault()\r\n\r\n          this._showOptionsWrapper(e.target)\r\n        }\r\n      })\r\n\r\n      dropdown.addEventListener('click', (e) => {\r\n\r\n        if(e.target && e.target.matches(this._dropdownOptionSelector)) {\r\n          e.preventDefault()\r\n\r\n          this._activeInput(dropdown,e.target)\r\n        }\r\n      })\r\n\r\n    })\r\n\r\n    document.addEventListener('click', e =>{\r\n      if (e.target && !e.target.closest(this._dropdownSelector)) {\r\n\r\n        this.hideAllDropdowns()\r\n      }\r\n    }, true)\r\n  }\r\n\r\n  /**\r\n   * Открыть выподающие меню\r\n   * @param {HTMLInputElement} input - input для ввода текста\r\n   * @return {void}\r\n   */\r\n  _showOptionsWrapper(input) {\r\n    let flag = false,\r\n        valueInput = input.value.trim()\r\n\r\n    if(valueInput && valueInput.length > 2) {\r\n      let options = Array.from(document.querySelectorAll(`${this._dropdownSelector} ${this._dropdownOptionSelector}`))\r\n\r\n      options.forEach(option => {\r\n\r\n        if(option.innerText.toUpperCase().includes(valueInput.toUpperCase())) {\r\n          option.style.display = this._display;\r\n\r\n          flag = true\r\n        } else {\r\n          option.style.display = 'none';\r\n        }\r\n      })\r\n\r\n      flag ?\r\n        input.nextElementSibling.style.display = this._display :\r\n        input.nextElementSibling.style.display = 'none'\r\n\r\n    } else {\r\n\r\n      input.nextElementSibling.style.display = 'none'\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Выбирает активный пункт\r\n   * @param {HTMLElement} dropdown - блок выпадающего списка\r\n   * @param {HTMLElement} optionActive - пункт выпадающего списка\r\n   * @return {void}\r\n   */\r\n  _activeInput(dropdown,optionActive) {\r\n    const pasteInOption = dropdown.querySelector(this._dropdownToggleSelector)\r\n\r\n    pasteInOption.value = optionActive.innerText\r\n\r\n    this.hideAllDropdowns()\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Базовый класс для компонентов\r\n * */\r\nexport default class Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,{} = {}) {\r\n    this.$el = document.querySelector(id)\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {}\r\n\r\n  /**\r\n   * Скрывает компонент\r\n   * @return {void}\r\n   */\r\n  hide() {\r\n    this.$el.style.display = 'none'\r\n\r\n    this._onHide() // -> после скрытия компонента вызываем метод\r\n  }\r\n\r\n  /**\r\n   * Показать компонент\r\n   * @return {void}\r\n   */\r\n  show() {\r\n    this.$el.style.display = 'block'\r\n\r\n    this._onShow() // -> после показа компонента вызываем метод\r\n  }\r\n\r\n  /**\r\n   * Действия после скрытия компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onHide() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Действия после показа компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onShow() {\r\n\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Базовый класс для работы с формами\r\n * */\r\nexport default class Form {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {Element} form      - форма.\r\n   * @param {Object=} controls  - поля формы.\r\n   */\r\n  constructor(form, controls= {}) {\r\n    this.form = form\r\n\r\n    this.controls = controls\r\n  }\r\n\r\n  /**\r\n   * Вытаскивает значения из полей формы\r\n   * @return {Object}\r\n   */\r\n  value() {\r\n    const value = {}\r\n\r\n    Object.keys(this.controls).forEach(control => {\r\n      value[control] = this.form[control].value\r\n    })\r\n\r\n    return value\r\n  }\r\n\r\n  /**\r\n   * Проверка на валидацию\r\n   * @return {boolean}\r\n   */\r\n  isValid() {\r\n\r\n    let isFormValid = true // Флаг\r\n\r\n    Object.keys(this.controls).forEach(control => {\r\n\r\n      if(this.controls[control].length) {\r\n\r\n        const validators = this.controls[control] // массив с валидаторами\r\n\r\n        let isValid = true // Флаг\r\n\r\n        validators.forEach(validator =>{\r\n\r\n          isValid = validator(this.form[control].value) && isValid // запускаем валидаторы по цепочки\r\n\r\n        })\r\n\r\n        //если элемент формы валиден\r\n        isValid ? clearError(this.form[control]) : setError(this.form[control])\r\n        //если элемент формы невалиден\r\n\r\n        isFormValid = isFormValid && isValid // переключаем Флаг\r\n\r\n      }\r\n\r\n    })\r\n\r\n    return isFormValid\r\n  }\r\n\r\n  /**\r\n   * Очищаем форму\r\n   * @return {void}\r\n   */\r\n  clear() {\r\n    this.form.reset()\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Сформировать и отправить ошибку\r\n * @return {void}\r\n */\r\nfunction setError($control){\r\n\r\n  clearError($control) // удаляет сообщения об ошибки\r\n\r\n  const error = '<span class=\"form__validation-error\">Введите значение</span>' // формируем сообшения об ошибки\r\n\r\n  $control.nextElementSibling.firstElementChild.style.backgroundColor = '#fff5f5' // подсветить не валидный элемент красным цветом\r\n\r\n  $control.previousElementSibling.insertAdjacentHTML('beforeend', error) // добавляем сообщения от ошибки для невалидного элемента\r\n}\r\n\r\n/**\r\n * Удалить сообщения об ошибки\r\n * @return {void}\r\n */\r\nfunction clearError($control){\r\n\r\n  $control.nextElementSibling.firstElementChild.style.backgroundColor = '' // удалить подсветку\r\n\r\n  // элемент с ошибкой сушествует\r\n  if($control.previousElementSibling.querySelector('.form__validation-error')){\r\n\r\n    $control.previousElementSibling.querySelector('.form__validation-error').remove() // удаляет ошибку\r\n\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Вылидаторы для форм\r\n * */\r\nexport class Validators {\r\n\r\n  /**\r\n   * Валидатор: вы незаполнили поле\r\n   * @return {string}\r\n   */\r\n  static required(value = '') {\r\n    return value && value.trim()\r\n  }\r\n\r\n  /**\r\n   * Валидатор: минимальное число симаолов\r\n   * @return {function}\r\n   */\r\n  static minLength(length) {\r\n    return value => {\r\n      return value.length >= length\r\n    }\r\n  }\r\n}\r\n","\r\n/**\r\n *  API Сервисы\r\n * */\r\nclass ApiService{\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} componentBx - компонент на сервере к которому будем делать запросы\r\n   */\r\n  constructor(componentBx) {\r\n    this.componentBx = componentBx\r\n  }\r\n\r\n  /**\r\n   * Запрос на сервер с параметрами\r\n   * @param {string} action   - метод на сервере который будет обрабатывать запрос\r\n   * @param {Object} data     - объект с данными которые будут передаваться на сервер\r\n   * @return {Promise}\r\n   */\r\n  async useRequest(action,data) {\r\n\r\n    try {\r\n      // делаем ajax запрос в компонент my_components:ajax к методу action(Action())\r\n      return await BX.ajax.runComponentAction(this.componentBx, action, {\r\n        mode: 'class',\r\n        data: data\r\n      })\r\n\r\n      // return await new Promise((resolve,reject) => {\r\n      //\r\n      //   setTimeout(() => {\r\n      //     reject({\r\n      //       \"status\": \"error\",\r\n      //       \"data\": {\r\n      //         \"result\": '[{\"ID\":1,\"NAME\":\"Вася\"},{\"ID\":2,\"NAME\":\"Петя\"},{\"ID\":\"3\",\"NAME\":\"Юра\"}]'\r\n      //       },\r\n      //       \"errors\": [{\r\n      //         \"message\": \"Не заполено поле Email1\",\r\n      //         \"code\": 0,\r\n      //         \"customData\": null\r\n      //       }]\r\n      //     })\r\n      //   },2000)\r\n      // })\r\n    } catch (error) {\r\n\r\n      if(error.status === 'error') {\r\n        throw {\r\n          functionName : 'useRequest',\r\n          ...error\r\n        }\r\n      }\r\n\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Запрос на сервер для получения всех сотрудников\r\n   * @return {Promise}\r\n   */\r\n  async getUsers() {\r\n\r\n    try{\r\n      // делаем ajax запрос в компонент bizproc:otipb.new к методу getUsersAction()\r\n      const response = await BX.ajax.runComponentAction(this.componentBx, 'getUsers', {\r\n        mode: 'class'\r\n      })\r\n\r\n      return JSON.parse(response.data.result)\r\n\r\n      // let response = await new Promise((resolve,reject) => {\r\n      //\r\n      //   setTimeout(() => {\r\n      //     reject({\r\n      //       \"status\": \"error\",\r\n      //       \"data\": {\r\n      //         \"result\": '[{\"ID\":1,\"NAME\":\"Вася\"},{\"ID\":2,\"NAME\":\"Петя\"},{\"ID\":\"3\",\"NAME\":\"Юра\"}]'\r\n      //       },\r\n      //       \"errors\": [{\r\n      //         \"message\": \"Не заполено поле Email\",\r\n      //         \"code\": 0,\r\n      //         \"customData\": null\r\n      //       }]\r\n      //     })\r\n      //   },2000)\r\n      // })\r\n      //\r\n      // return JSON.parse(response.data.result)\r\n    } catch (error) {\r\n\r\n      if(error.status === 'error') {\r\n        throw {\r\n          functionName : 'getUsers',\r\n          ...error\r\n        }\r\n      }\r\n\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Запрос на сервер для получения всех сотрудников\r\n   * @return {Promise}\r\n   */\r\n  async getFio() {\r\n    // делаем ajax запрос в компонент bizproc:otipb.new к методу getFioAction()\r\n    const response = await BX.ajax.runComponentAction(this.componentBx, 'getFio', {\r\n      mode: 'class'\r\n    })\r\n\r\n    return JSON.parse(response.data.result)\r\n\r\n    // return await new Promise((resolve,reject) => {\r\n    //\r\n    //   setTimeout(() => {\r\n    //     resolve({\r\n    //       \"status\": \"error\",\r\n    //       \"data\": {\r\n    //         \"result\": \"[]\"\r\n    //       },\r\n    //       \"errors\": [{\r\n    //         \"message\": \"Не заполено поле Email\",\r\n    //         \"code\": 0,\r\n    //         \"customData\": null\r\n    //       }]\r\n    //     })\r\n    //   },2000)\r\n    // })\r\n  }\r\n\r\n  /**\r\n   * Запрос на сервер для получения всех сотрудников\r\n   * @return {Promise}\r\n   */\r\n  async getAccessAdmin() {\r\n    try {\r\n      // делаем ajax запрос в компонент bizproc:otipb.new к методу getAccessRight()\r\n      const response = await BX.ajax.runComponentAction(this.componentBx, 'getAccessAdmin', {\r\n        mode: 'class'\r\n      })\r\n\r\n      return JSON.parse(response.data.result)\r\n\r\n      // let response = await new Promise((resolve,reject) => {\r\n      //\r\n      //   setTimeout(() => {\r\n      //     resolve({\r\n      //       \"status\": \"error\",\r\n      //       \"data\": {\r\n      //         \"result\": false\r\n      //       },\r\n      //       \"errors\": [{\r\n      //         \"message\": \"Не заполено поле Email\",\r\n      //         \"code\": 0,\r\n      //         \"customData\": null\r\n      //       }]\r\n      //     })\r\n      //   },2000)\r\n      // })\r\n      //\r\n      // return response.data.result\r\n    } catch (error) {\r\n\r\n      if(error.status === 'error') {\r\n        throw {\r\n          functionName : 'getAccessAdmin',\r\n          ...error\r\n        }\r\n      }\r\n\r\n      throw error\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService('bizproc:otipb.new')\r\n","import {apiService} from \"../services/api.service\";\r\n\r\n/**\r\n *  От выбора в A(первом селект), зависит наполнения Б(второго селекте)\r\n * */\r\nexport default class ChainingSelectInFormPlugin {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string | Element} form  - форма в корорый надо объединить два выподающий списка.\r\n   * @param {Object} selectA         - выподающий спосок A\r\n   * @param {string} [selectA.selectorA] - селектор выподающего списка А\r\n   * @param {string} [selectA.selectATriggerSelector] - сетектор для запуска действия в выподающим списке А\r\n   * @param {string} [selectA.callAction] - обработчик который вызывает выподающий спосок A для получения данных, которые потом отрисуем в выподающий списки В\r\n   * @param {Object} selectB         - выподающий спосок В\r\n   * @param {string} [selectB.selectorB]  -  селектор выподающего списка В\r\n   * @param {Object} [selectB.resetParams]  - элемента для сброса\r\n   * @param {string} [selectB.resetParams.activeOption]  - активный пункт\r\n   * @param {string} [selectB.resetParams.options]  - пункты списка\r\n   * @param {string} [selectB.resetParams.input]  - input для отправки на сервер\r\n   * @param {Function} [selectB.renderTemplate]  - шаблон который принемает данные из списка A, с создает html верстку для заполнения списка B\r\n   * @param {string} [selectB.selectorWherePasteOptions]  - шаблон который принемает данные из списка A, с создает html верстку для заполнения списка B\r\n   */\r\n  constructor(form,\r\n              {\r\n                selectorA = '[data-sumbiot-selectA]',\r\n                selectATriggerSelector = '.dropdown__item',\r\n                callAction\r\n              } = {},\r\n              {\r\n                selectorB = '[data-sumbiot-selectB]',\r\n                resetParams = {\r\n                  activeOption : '.js-dropdown__toggle',\r\n                  options: '.dropdown__item',\r\n                  input: '.sumbiot-input-select'\r\n                },\r\n                renderTemplate,\r\n                selectorWherePasteOptions= '[data-sumbiot-selectB-paste]'\r\n              } = {}) {\r\n\r\n    this.$form = form.tagName ? form : document.querySelector(form)\r\n\r\n    this.$selectA = this.$form.querySelector(selectorA)\r\n    this.selectATriggerSelector = selectATriggerSelector\r\n    this.callActionA = callAction\r\n\r\n    this.$selectB = this.$form.querySelector(selectorB)\r\n    this.$pasteOptions = this.$selectB.querySelector(selectorWherePasteOptions)\r\n    this.resetParamsB = resetParams\r\n    this.renderTemplateB = renderTemplate\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация плагина\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n\r\n    this._handlerEvent()\r\n\r\n  }\r\n\r\n  /**\r\n   * Обработчик событий\r\n   * @return {void}\r\n   */\r\n  _handlerEvent() {\r\n\r\n    this.$selectA.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n\r\n      if (target && target.classList.contains(this.selectATriggerSelector.slice(1)) || target && target.parentElement.classList.contains(this.selectATriggerSelector.slice(1)) ) {\r\n        e.preventDefault()\r\n\r\n        if (target.parentElement.classList.contains(this.selectATriggerSelector.slice(1))){\r\n          target = target.parentElement\r\n        }\r\n\r\n        this.fillSelectB(target)\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Заполнить выподающий список B\r\n   * @param {HTMLElement} option - пункт списка в А селекте\r\n   * @return {void}\r\n   */\r\n  async fillSelectB(option) {\r\n\r\n    try {\r\n\r\n      let idSelectA = option.dataset.selectOption,\r\n          formData = new FormData()\r\n\r\n      formData.append('id',idSelectA)\r\n\r\n      this._resetSelectB()\r\n\r\n      const response = await apiService.useRequest(this.callActionA,formData),\r\n            result = JSON.parse(response.data.result)\r\n\r\n      if(Array.isArray(result) && result.length) {\r\n\r\n        let html = result.map(option => {\r\n          return this.renderTemplateB(option)\r\n        })\r\n\r\n        this.$pasteOptions.insertAdjacentHTML('afterbegin', html.join(''))\r\n\r\n      } else {\r\n\r\n        console.error('In file ChainingSelectInFormPlugin, in function fillSelectB, response is either not an array or an empty array')\r\n\r\n      }\r\n\r\n    } catch (error) {\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group(`In file ApiService, in function , ${this.callActionA} promise return reject`)\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file ChainingSelectInFormPlugin, in function fillSelectB error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Сброс параметров у выподающий списока B\r\n   * @return {void}\r\n   */\r\n  _resetSelectB() {\r\n    let toggle = this.$selectB.querySelector(this.resetParamsB.activeOption),\r\n        options = this.$selectB.querySelectorAll(this.resetParamsB.options),\r\n        input = this.$selectB.parentElement.querySelector(this.resetParamsB.input)\r\n\r\n    // активный пункт\r\n    toggle.innerText = ''\r\n    toggle.removeAttribute('title')\r\n\r\n    // пункты списка\r\n    options.forEach(option => {\r\n      option.remove()\r\n    })\r\n\r\n    // input\r\n    input.setAttribute('value','')\r\n  }\r\n\r\n  /**\r\n   * Удаление пунктов выподающий списока B\r\n   * @return {void}\r\n   */\r\n  deleteOptions() {\r\n    let options = this.$selectB.querySelectorAll(this.resetParamsB.options)\r\n\r\n    // пункты списка\r\n    options.forEach(option => {\r\n      option.remove()\r\n    })\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Погрузчик\r\n * */\r\nexport default class LoaderComponent {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {Object=} message - объект с настройками\r\n   */\r\n  constructor({\r\n                loading = 'Загрузка...',\r\n                success = 'Успех',\r\n                failure = 'Неудача',\r\n                activeClass = ''\r\n              } = {}) {\r\n\r\n    this.message = {\r\n      loading: {\r\n        title: loading,\r\n        img: ''\r\n      },\r\n      success: {\r\n        title: success,\r\n        img: 'loader__img--ok'\r\n      },\r\n      failure: {\r\n        title: failure,\r\n        img: 'loader__img--error'\r\n      }\r\n    }\r\n    this.activeClass = activeClass\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init(){\r\n    this.$el = document.createElement('div')\r\n    this.$el.classList.add('loader')\r\n    if(this.activeClass) {\r\n      this.$el.classList.add(this.activeClass)\r\n    }\r\n\r\n    this.$el.innerHTML = `\r\n      <div class=\"loader__img\"></div>\r\n      <p class=\"loader__massage\">${this.message.loading.title}</p>\r\n    `\r\n\r\n    this.$img = this.$el.querySelector('.loader__img')\r\n    this.$massage = this.$el.querySelector('.loader__massage')\r\n  }\r\n\r\n  /**\r\n   * Загрузка\r\n   * @return {Element}\r\n   */\r\n  loading() {\r\n    return this.$el\r\n  }\r\n\r\n  /**\r\n   * Успех\r\n   * @return {void}\r\n   */\r\n  success(text = '') {\r\n    this.$img.classList.add(this.message.success.img)\r\n    this.$massage.innerHTML = text || this.message.success.title\r\n  }\r\n\r\n  /**\r\n   * Неудача\r\n   * @return {void}\r\n   */\r\n  failure() {\r\n    this.$img.classList.add(this.message.failure.img)\r\n    this.$massage.innerHTML = this.message.failure.title\r\n  }\r\n\r\n  /**\r\n   * Удалить загрузчик\r\n   * @return {void}\r\n   */\r\n  removeLoader() {\r\n    this.$el.remove()\r\n  }\r\n}\r\n","\r\n/**\r\n *  Шаблон пункт выподающего списка\r\n *  @param {Object} option - пункт выподающего списка\r\n *  @return {string}\r\n * */\r\nexport function optionSelectTemplate({ID,NAME}) {\r\n\r\n  return `\r\n    <div class=\"dropdown__item\" data-select-option=\"${ID}\" title=\"${NAME}\">\r\n      ${NAME}\r\n    </div>\r\n  `\r\n}\r\n","import Component from \"../core/component\";\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\nimport {Validators} from \"../plugin/form-validator/validators\";\r\nimport ChainingSelectInFormPlugin from \"../plugin/chaining-select-in-form.plugin\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\n\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\nimport {optionSelectTemplate} from \"../templates/optionSelect.template\";\r\n\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormAddUserComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.instanceDropDown = options.dropDown || {}\r\n    this.partners = options.partners || []\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    this.form = new Form(this.$el, {\r\n      E_FIO: [],\r\n      ID_DIVISION: [Validators.required],\r\n      ID_DEPARTMENT: [Validators.required],\r\n      ID_MATRIX_WORKS: [Validators.required],\r\n      E_EMPLOYEE_STATUS: [Validators.required]\r\n    })\r\n\r\n    this.chainSelect = new ChainingSelectInFormPlugin(this.$el,\r\n      {\r\n        callAction: 'getDepartments'\r\n      },\r\n      {\r\n        renderTemplate : optionSelectTemplate\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Идет добавления сотрудника',\r\n      success: 'Сотрудник добавлен',\r\n      failure: 'Сотрудник не добавлен'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el),\r\n            mainResult = this.partners.find(partner => partner.name === 'mainResult'),\r\n            options = document.querySelector('.js-options-search')\r\n\r\n      this.$el.append(loader.loading())\r\n\r\n      const response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result)\r\n\r\n      loader.success()\r\n\r\n      this.partners.forEach(partner => partner.component.hide())\r\n\r\n      mainResult.component.unshift(result).show()\r\n\r\n      options.append(optionsUser(result.fio))\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n          console.group('List of errors')\r\n\r\n            error.errors.forEach(error => {\r\n              console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n            })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormAddUserComponent error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n        this.form.clear()\r\n        this.instanceDropDown.reset(this.form.form)\r\n        this.chainSelect.deleteOptions()\r\n\r\n\r\n        loader.removeLoader()\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Пункт в ФИО сотрудника\r\n * @return {HTMLElement}\r\n */\r\nfunction optionsUser(fio) {\r\n  let div = document.createElement('div'),\r\n      text = document.createTextNode(fio)\r\n\r\n  div.append(text)\r\n  div.classList.add('dropdown__item')\r\n  div.setAttribute('title', fio)\r\n  div.style.display = 'none'\r\n\r\n  return div\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormFilterComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   * @param {Object=} [options.instanceDropDown] - экземпляр класса кастомных селектов\r\n   * @param {Array=} [options.partners] - партнерские компоненты, которые помогают этому\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.instanceDropDown = options.dropDown || {}\r\n    this.partners = options.partners || []\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    this.$el.addEventListener('reset', resetHandler.bind(this))\r\n\r\n    this.form = new Form(this.$el, {\r\n      DATE_BEGIN: [],\r\n      DATE_END: [],\r\n      ID_DIVISION: [],\r\n      ID_MATRIX_WORKS: [],\r\n      ID_PROGRAM: []\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n  e.target.querySelector('.form__button--submit').blur()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Идет фильтрация данных',\r\n      failure: 'Ошибка'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el),\r\n            filterResult = this.partners.find(partner => partner.name === 'filterResult')\r\n\r\n      this.$el.append(loader.loading())\r\n\r\n      const isAccess = await apiService.getAccessAdmin(),\r\n            response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result),\r\n            count = result.length || 0\r\n\r\n      loader.success(`Найдено: ${count} совпадений`)\r\n\r\n      this.partners.forEach(partner => partner.component.hide())\r\n\r\n      filterResult.component.register(result,{isAccess}).show()\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group(`In file ApiService, in function ${error.functionName}, promise return reject`)\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormFilterComponent error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n\r\n        loader.removeLoader()\r\n\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик сброса фильтра\r\n * @return {void}\r\n */\r\nfunction resetHandler(e) {\r\n\r\n  setTimeout(() => {\r\n    e.target.querySelector('.form__button--reset_filter').blur()\r\n  },150)\r\n\r\n  this.instanceDropDown.reset(this.form.form)\r\n\r\n  this.partners.forEach(partner => partner.component.hide())\r\n\r\n  this.partners.find(partner => partner.name === 'mainResult')\r\n    .component.show()\r\n}\r\n","\r\n/**\r\n *  Базовый набор функций для проекта\r\n * */\r\nexport default class Support {\r\n\r\n  /**\r\n   * Удаления класс(ов) у элементов\r\n   * @param {string} elementSelector - селектор элементов у которых надо удалить класс(ы).\r\n   * @param {array} arrayClasses     - массив со списком классов.\r\n   * @return {void}\r\n   */\r\n  static removeClass(elementSelector,arrayClasses) {\r\n    document.querySelectorAll(elementSelector).forEach(element => {\r\n      element.classList.remove(...arrayClasses)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Добавление класс(ов) у ближайщего подходящего родителя\r\n   * @param {Element} element       - элемент у которого надо найти ближайщего подходящего родителя.\r\n   * @param {string} searchSelector - селектор который надо найти у родителя.\r\n   * @param {array} arrayClasses    - массив со списком классов.\r\n   * @return {void}\r\n   */\r\n  static addClosestClass(element,searchSelector ,arrayClasses) {\r\n    element.closest(searchSelector).classList.add(...arrayClasses)\r\n  }\r\n\r\n  /**\r\n   * Удаления класс(ов) у ближайщего подходящего родителя\r\n   * @param {Element} element       - элемент у которого надо найти ближайщего подходящего родителя.\r\n   * @param {string} searchSelector - селектор который надо найти у родителя.\r\n   * @param {array} arrayClasses    - массив со списком классов.\r\n   * @return {void}\r\n   */\r\n  static removeClosestClass(element,searchSelector ,arrayClasses) {\r\n    element.closest(searchSelector).classList.remove(...arrayClasses)\r\n  }\r\n\r\n}\r\n","\n/**\n *  Шаблон добавления атрибутов в зависимости от прав доступа\n *  @param {boolean} isAccess - права\n *  @param {string} accessFalse - атрибут если есть права\n *  @param {string} accessTrue - атрибут если нет права\n *  @return {string}\n * */\nexport function attributeTemplate(isAccess= false , accessFalse = '', accessTrue = '') {\n\n  if(isAccess) {\n    return accessTrue\n  }\n\n  return accessFalse\n}\n","import {attributeTemplate} from \"../attribute.template\";\r\n\r\n/**\r\n *  Шаблон информация о пользователе\r\n *  @param {Object} user - сотрудник\r\n *  @param {number} [user.idUser] - id\r\n *  @param {string} [user.fio] - ФИО\r\n *  @param {string} [user.division] - дивизион\r\n *  @param {string} [user.department] - отдел\r\n *  @param {string} [user.work] - названия должности\r\n *  @param {string} [user.status] - названия должности\r\n *  @param {Object} options - настройки\r\n *  @param {number} [options.build] - в какой конфигурации собирать сотрудника 1-кастомный, 2-из БХ, 0-из БХ без Hse\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать сотрудника true - администратор | false - редовой\r\n *  @return {string}\r\n * */\r\nexport function userInfoTemplate({idUser,fio,division,department,work,status},\r\n                                 {\r\n                                   build = 0,\r\n                                   isAccess = true\r\n                                 } = {}\r\n) {\r\n\r\n  /**\r\n   * Конфигурация пользователя\r\n   * @return {string}\r\n   */\r\n  const renderUserConfig = () => {\r\n\r\n    // кастомный пользователь\r\n    if(build === 1){\r\n      return  `\r\n        <div class=\"col-4 g-justify-items-left js-matrix-work-hse\" title=\"${work || 'не заполнено'}\">\r\n          <span class=\"result__clip\">\r\n            ${work || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n      `\r\n    }\r\n    // существующий пользователь из BX\r\n    else if (build === 2) {\r\n      return  `\r\n        <div class=\"col-4 g-justify-items-left js-matrix-work-hse\" title=\"${work || 'не заполнено'}\">\r\n          <span class=\"result__clip\">\r\n            ${work || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n      `\r\n    }\r\n    // существующий пользователь из BX без HSE\r\n    else {\r\n      return `\r\n        <div class=\"col-4 js-matrix-work-hse\">\r\n          <span class=\"p-relative d-inline-block\">\r\n            <button class=\"button button--icon js-add-hse-modal\" type=\"button\" data-sumbiot-target=\"#add-hse-modal\" data-id=\"${idUser}\" title=\"${attributeTemplate(isAccess,'Нет прав доступа','Добавить должность HSE')}\" ${attributeTemplate(isAccess,'disabled')}>\r\n              <img class=\"result__img\" src=\"${BX.message('TemplateFolder')}/assets/img/add-document-icon.svg\" width=\"18\" height=\"18\" alt=\"\">\r\n            </button>\r\n          </span>\r\n        </div>\r\n      `\r\n    }\r\n  }\r\n\r\n  return `\r\n    <div class=\"col-1\" title=\"ID: ${idUser}\" data-id=\"${idUser}\" data-sumbiot-page-counter></div>\r\n    <div class=\"col-2\" title=\"Отдел: ${department || 'не заполнено'}\">\r\n      <span class=\"result__clip text-align-center\">\r\n        ${division || 'не заполнено'}\r\n      </span>\r\n    </div>\r\n    <div class=\"col-3 g-justify-items-left\" title=\"${fio || 'не заполнено'}\">\r\n      <span class=\"result__clip\">\r\n        ${fio || 'не заполнено'}\r\n      </span>\r\n    </div>\r\n    ${renderUserConfig()}\r\n    <div class=\"col-1\">${status || 'не заполнено'}</div>\r\n    <div class=\"col-1\">\r\n      <button class=\"result__options-arrow button button--arrow\" type=\"button\" title=\"Подробно\"></button>\r\n    </div>\r\n  `\r\n}\r\n","\r\n/**\r\n *  Заглушка для удостовенений\r\n *  @param {string} text - текст заглушки\r\n *  @return {string}\r\n * */\r\nexport function cardPlugTemplate(text) {\r\n\r\n  return `\r\n    <div class=\"result__row result__row--inner\">\r\n      <div class=\"row gx-0\">\r\n        <div class=\"col-12\">\r\n              ${text}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n\r\n}\r\n","import {cardTemplate} from \"../card/card.template\";\r\nimport {trainingTemplate} from \"../card/training.template\";\r\nimport {cardRecertificationTemplate} from \"../card/cardRecertification.template\";\r\nimport {attributeTemplate} from \"../attribute.template\";\r\n\r\nimport {cardPlugTemplate} from \"../card/cardPlug.template\";\r\n\r\n/**\r\n *  Шаблон информация о удостоверениях пользователя\r\n *  @param {Object} user - сотрудник\r\n *  @param {number} [user.idUser] - id\r\n *  @param {Object} [user.cards] - обьект с действующими ['NORMAL_DATE'] и просрочеными ['OVER_DATE'] удостоверениями\r\n *  @param {Array} [user.training] - обучения\r\n *  @param {number} [user.customUser] - обучения\r\n *  @param {Object} options - настройки\r\n *  @param {number} [options.build] - в какой конфигурации собирать сотрудника 1-кастомный, 2-из БХ, 0-из БХ без Hse\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать сотрудника true - администратор | false - редовой\r\n *  @return {string}\r\n * */\r\nexport function userCardInfoTemplate({idUser,cards,training,customUser},\r\n                                     {\r\n                                       build = 0,\r\n                                       isAccess = true\r\n                                     } = {}\r\n) {\r\n\r\n  /**\r\n   * список действующих удостоверений\r\n   * @return {string}\r\n   */\r\n  const renderCard = () => {\r\n    if(cards && cards['NORMAL_DATE']){\r\n      return cards['NORMAL_DATE'].map(card => cardTemplate(card,{idUser,customUser,isAccess})).join(' ')\r\n    }else {\r\n      return cardPlugTemplate('Нет удостоверений')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * список обучений\r\n   * @return {string}\r\n   */\r\n  const renderTraining = () => {\r\n    if(training && training.length){\r\n      return training.map(training => trainingTemplate(training,{idUser,customUser,isAccess})).join(' ')\r\n    }else {\r\n      return cardPlugTemplate('Нет обучений')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * список удостоверения на переаттестации\r\n   * @return {string}\r\n   */\r\n  const renderRecertification = () => {\r\n    if(cards && cards['OVER_DATE']){\r\n      return cards['OVER_DATE'].map(card => cardRecertificationTemplate(card,{idUser,customUser,isAccess})).join(' ')\r\n    }else {\r\n      return cardPlugTemplate('Нет удостоверений')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Конфигурация пользователя\r\n   * @return {string}\r\n   */\r\n  const renderUserConfig = () => {\r\n\r\n    // кастомный пользователь\r\n    if(build === 1){\r\n      return  `\r\n        <button class=\"result__info-options-btn button button--icon js-edit-user-modal\" type=\"button\" data-sumbiot-target=\"#edit-user-modal\" data-id=\"${idUser}\" title=\"${attributeTemplate(isAccess,'Нет прав доступа','Редактировать сотрудника')}\" ${attributeTemplate(isAccess,'disabled')}>\r\n          <img class=\"result__img\" src=\"${BX.message('TemplateFolder')}/assets/img/edit-user-icon.svg\" width=\"22\" height=\"22\" alt=\"\">\r\n        </button>\r\n        <span class=\"p-relative d-inline-block\">\r\n          <button class=\"result__info-options-btn button button--icon js-delete-user-and-card-modal\" type=\"button\" data-sumbiot-target=\"#delete-user-or-card-modal\" data-id=\"${idUser}\" data-action=\"/deleteUser\" title=\"${attributeTemplate(isAccess,'Нет прав доступа','Удалить сотрудника')}\" ${attributeTemplate(isAccess,'disabled')}>\r\n            <img class=\"result__img\" src=\"${BX.message('TemplateFolder')}/assets/img/remove-user-icon.svg\" width=\"22\" height=\"22\" alt=\"\">\r\n          </button>\r\n        </span>\r\n      `\r\n    }\r\n    // существующий пользователь из BX\r\n    else if (build === 2) {\r\n      return  `\r\n        <button class=\"result__info-options-btn button button--icon js-edit-hse-modal\" type=\"button\" data-sumbiot-target=\"#edit-hse-modal\" data-id=\"${idUser}\" title=\"${attributeTemplate(isAccess,'Нет прав доступа','Изменить должность HSE')}\" ${attributeTemplate(isAccess,'disabled')}>\r\n          <img class=\"result__img\" src=\"${BX.message('TemplateFolder')}/assets/img/edit-document-icon.svg\" width=\"22\" height=\"22\" alt=\"\">\r\n        </button>\r\n      `\r\n    }\r\n    // существующий пользователь из BX без HSE\r\n    else {\r\n      return ``\r\n    }\r\n  }\r\n\r\n  return `\r\n    <div class=\"result__info-box\">\r\n      <div class=\"result__info-title\">\r\n        Удостоверение действующие\r\n\r\n        <div class=\"result__info-options\">\r\n          ${renderUserConfig()}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"result__info-box-inner\">\r\n\r\n        <div class=\"result__row result__row--inner result__row--inner-header\">\r\n          <div class=\"row gx-0\">\r\n            <div class=\"col-5\">Программа обучения</div>\r\n            <div class=\"col-3\">Номер документа</div>\r\n            <div class=\"col-2\">Дата след. аттестации</div>\r\n            <div class=\"col-2\">Опции</div>\r\n          </div>\r\n        </div>\r\n\r\n        ${renderCard()}\r\n\r\n      </div><!--.result__info-box-inner-->\r\n\r\n    </div><!--./result__info-box-->\r\n\r\n    <div class=\"result__info-box\">\r\n      <div class=\"result__info-title\">Доступные обучения</div>\r\n\r\n      <div class=\"result__info-box-inner\">\r\n\r\n        <div class=\"result__row result__row--inner result__row--inner-header\">\r\n          <div class=\"row gx-0\">\r\n            <div class=\"col-9\">Программа обучения</div>\r\n            <div class=\"col-3\">Опции</div>\r\n          </div>\r\n        </div>\r\n\r\n        ${renderTraining()}\r\n\r\n      </div><!--.result__info-box-inner-->\r\n\r\n    </div><!--./result__info-box-->\r\n\r\n    <div class=\"result__info-box\">\r\n      <div class=\"result__info-title\">Удостоверение на переаттестации</div>\r\n\r\n      <div class=\"result__info-box-inner\">\r\n\r\n        <div class=\"result__row result__row--inner result__row--inner-header\">\r\n          <div class=\"row gx-0\">\r\n            <div class=\"col-9\">Программа обучения</div>\r\n            <div class=\"col-3\">Опции</div>\r\n          </div>\r\n        </div>\r\n\r\n        ${renderRecertification()}\r\n\r\n      </div><!--.result__info-box-inner-->\r\n\r\n    </div><!--./result__info-box-->\r\n  `\r\n}\r\n","import {attributeTemplate} from \"../attribute.template\";\r\n\r\n/**\r\n *  Шаблон действующие удостоверение\r\n *  @param {Object} card - удостоверение\r\n *  @param {number} [card.idCard] - id\r\n *  @param {string} [card.programName] - название удостоверения\r\n *  @param {string} [card.cardNumber] - номер документа\r\n *  @param {string} [card.attestationDate] - дата аттестации\r\n *  @param {string} [card.nextAttestationDate] - дата следующий аттестации\r\n *  @param {Object} options - настройки\r\n *  @param {?number} [options.idUser] - id сотрудника\r\n *  @param {?number} [options.customUser] - кастомный или существующий сотрудник\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать удостоверение true - администратор | false - редовой\r\n *  @return {string}\r\n * */\r\nexport function cardTemplate({idCard,programName,cardNumber,attestationDate,nextAttestationDate},\r\n {\r\n   idUser = null,\r\n   customUser = null,\r\n   isAccess= true\r\n })\r\n{\r\n\r\n  return `\r\n    <div class=\"result__row result__row--inner\">\r\n      <div class=\"row gx-0\">\r\n        <div class=\"col-5 g-justify-items-left\" title=\"${programName || 'не заполнено'}\">\r\n          <span class=\"result__clip\">\r\n            ${programName || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n        <div class=\"col-3\" title=\"Номер документа: ${cardNumber || 'не заполнено'}&#10Дата аттестации: ${attestationDate || 'не заполнено'}\">\r\n          <span class=\"result__clip text-align-center\">\r\n            ${cardNumber || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n        <div class=\"col-2\">${nextAttestationDate || 'не заполнено'}</div>\r\n        <div class=\"col-2\">\r\n          <span class=\"result__options-card\">\r\n            <button class=\"button button--text js-edit-card-modal js-edit-card\" type=\"button\" data-sumbiot-target=\"#edit-card-modal\" data-id=\"${idCard}\" data-id-user=\"${idUser}\" data-custom-user=\"${customUser}\" data-action=\"/editCard\" title=\"${attributeTemplate(isAccess,'Нет прав доступа')}\" ${attributeTemplate(isAccess,'disabled')}>Редактировать</button>\r\n            <span class=\"p-relative d-inline-block\">\r\n              <button class=\"button button--text button--img-delete js-delete-user-and-card-modal\" type=\"button\" data-sumbiot-target=\"#delete-user-or-card-modal\" data-id=\"${idCard}\" data-id-user=\"${idUser}\" data-custom-user=\"${customUser}\" data-action=\"/deleteCard\" title=\"${attributeTemplate(isAccess,'Нет прав доступа','Удалить удостоверение')}\" ${attributeTemplate(isAccess,'disabled')}></button>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","import {attributeTemplate} from \"../attribute.template\";\r\n\r\n/**\r\n *  Шаблон доступные обучения\r\n *  @param {Object} card - обучение\r\n *  @param {number} [card.ID] - id\r\n *  @param {string} [card.NAME] - название обучение\r\n *  @param {Object} options - настройки\r\n *  @param {?number} [options.idUser] - id сотрудника\r\n *  @param {?number} [options.customUser] - кастомный или существующий сотрудник\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать обучение true - администратор | false - редовой\r\n *  @return {string}\r\n * */\r\nexport function trainingTemplate({ID,NAME},\r\n  {\r\n    idUser = null,\r\n    customUser = null,\r\n    isAccess= true\r\n  }\r\n) {\r\n\r\n  return `\r\n    <div class=\"result__row result__row--inner\">\r\n      <div class=\"row gx-0\">\r\n        <div class=\"col g-justify-items-left\" title=\"${NAME || 'не заполнено'}\">\r\n          <span class=\"result__clip\">\r\n            ${NAME || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <button class=\"button button--text js-edit-card-modal\" type=\"button\" data-sumbiot-target=\"#edit-card-modal\" data-id=\"${ID}\" data-id-user=\"${idUser}\" data-custom-user=\"${customUser}\" data-action=\"/addCard\" title=\"${attributeTemplate(isAccess,'Нет прав доступа')}\" ${attributeTemplate(isAccess,'disabled')}>Добавить</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","import {attributeTemplate} from \"../attribute.template\";\r\n\r\n/**\r\n *  Шаблон удостоверения на переаттестации\r\n *  @param {Object} card - удостоверение\r\n *  @param {number} [card.idCard] - id\r\n *  @param {string} [card.programName] - название удостоверения\r\n *  @param {string} [card.cardNumber] - номер документа\r\n *  @param {string} [card.nextAttestationDate] - дата следующий аттестации\r\n *  @param {Object} options - настройки\r\n *  @param {?number} [options.idUser] - id сотрудника\r\n *  @param {?number} [options.customUser] - кастомный или существующий сотрудник\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать удостоверение на переаттестации true - администратор | false - редовой\r\n *  @return {string}\r\n * */\r\nexport function cardRecertificationTemplate({idCard,programName,cardNumber,nextAttestationDate},\r\n  {\r\n    idUser = null,\r\n    customUser = null,\r\n    isAccess = true\r\n  })\r\n{\r\n\r\n  return `\r\n    <div class=\"result__row result__row--inner\">\r\n      <div class=\"row gx-0\">\r\n        <div class=\"col-9 g-justify-items-left\" title=\"${programName || 'не заполнено'}.&#10Номер документа: ${cardNumber || 'не заполнено'}&#10Аттестация закончилась: ${nextAttestationDate || 'не заполнено'}\">\r\n          <span class=\"result__clip\">\r\n            ${programName || 'не заполнено'}\r\n          </span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span class=\"result__options-card\">\r\n            <button class=\"button button--text js-edit-card-modal js-edit-card\" type=\"button\" data-sumbiot-target=\"#edit-card-modal\" data-id=\"${idCard}\" data-id-user=\"${idUser}\" data-custom-user=\"${customUser}\" data-action=\"/editCard\" title=\"${attributeTemplate(isAccess,'Нет прав доступа')}\" ${attributeTemplate(isAccess,'disabled')}>Продлить</button>\r\n            <span class=\"p-relative d-inline-block\">\r\n              <button class=\"button button--text button--img-delete js-delete-user-and-card-modal\" type=\"button\" data-sumbiot-target=\"#delete-user-or-card-modal\" data-id=\"${idCard}\" data-id-user=\"${idUser}\" data-custom-user=\"${customUser}\" data-action=\"/deleteCard\" title=\"${attributeTemplate(isAccess,'Нет прав доступа', 'Удалить удостоверение')}\" ${attributeTemplate(isAccess,'disabled')}></button>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\nimport {Validators} from \"../plugin/form-validator/validators\";\r\nimport Support from \"../core/support\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\nimport {userInfoTemplate} from \"../templates/user/userInfo.template\";\r\nimport {userCardInfoTemplate} from \"../templates/user/userCardInfo.template\";\r\nimport ChainingSelectInFormPlugin from \"../plugin/chaining-select-in-form.plugin\";\r\nimport {optionSelectTemplate} from \"../templates/optionSelect.template\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormEditUserComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.instanceDropDown = options.dropDown || {}\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    document.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n\r\n      if (target && target.classList.contains('js-edit-user-modal') || target.parentElement.classList.contains('js-edit-user-modal') ) {\r\n        e.preventDefault()\r\n\r\n        if (target.parentElement.classList.contains('js-edit-user-modal')){\r\n          target = target.parentElement\r\n        }\r\n\r\n        getData.call(this,target)\r\n\r\n      }\r\n    })\r\n\r\n    this.form = new Form(this.$el, {\r\n      ID: [],\r\n      E_FIO: [],\r\n      ID_DIVISION: [Validators.required],\r\n      ID_DEPARTMENT: [Validators.required],\r\n      ID_MATRIX_WORKS: [Validators.required],\r\n      E_EMPLOYEE_STATUS: [Validators.required]\r\n    })\r\n\r\n    this.chainSelect = new ChainingSelectInFormPlugin(this.$el,\r\n      {\r\n        callAction: 'getDepartments'\r\n      },\r\n      {\r\n        renderTemplate : optionSelectTemplate\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик заполнения формы\r\n * @return {void}\r\n */\r\nasync function getData(target) {\r\n\r\n  let idTimeout;\r\n\r\n  const loader = new LoaderComponent({\r\n    loading: 'Идет сбор данных, о сотруднике',\r\n  })\r\n\r\n  try {\r\n\r\n    const formData = new FormData(),\r\n          fioInput = this.$el.querySelector('.js-edit-fio'),\r\n          divisionOptions = Array.from(this.$el.querySelectorAll('[data-sumbiot-selectA] .dropdown__item'))\r\n\r\n    formData.append('ID',target.dataset.id)\r\n\r\n    idTimeout = setTimeout(() =>{\r\n      this.$el.append(loader.loading())\r\n    },400)\r\n\r\n    const response = await apiService.useRequest('getUserInfo',formData),\r\n          result = JSON.parse(response.data.result),\r\n          $divisionItem = divisionOptions.find(option => option.dataset.selectOption === result.ID_DIVISION)\r\n\r\n    // заполняем выподающий список отделов\r\n    await this.chainSelect.fillSelectB($divisionItem)\r\n\r\n    // делаем активный дивизион\r\n    this.instanceDropDown.select(this.chainSelect.$selectA,$divisionItem)\r\n\r\n    // заполняем ФИО\r\n    fioInput.value = result.fio\r\n\r\n    delete result.fio\r\n    delete result.ID_DIVISION\r\n\r\n    // делаем активный отдел / должность HSE / статус\r\n    const optionsKey = Object.values(result),\r\n          options = this.$el.querySelectorAll('.dropdown__item:not([data-sumbiot-selectA])')\r\n\r\n    options.forEach(option => {\r\n      if(optionsKey.includes(option.dataset.selectOption)) {\r\n\r\n        option.click()\r\n\r\n      }\r\n    })\r\n\r\n  } catch (error) {\r\n    if(error.status === 'error') {\r\n\r\n      console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n        console.group('List of errors')\r\n\r\n        error.errors.forEach(error => {\r\n          console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n        })\r\n\r\n        console.groupEnd();\r\n\r\n      console.groupEnd();\r\n\r\n    } else {\r\n\r\n      console.group('In file FormEditUserComponent, in function getData error')\r\n        console.error(`${error.stack}`)\r\n      console.groupEnd();\r\n\r\n    }\r\n  } finally {\r\n    clearTimeout(idTimeout)\r\n\r\n    loader.removeLoader()\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Идет добавления сотрудника',\r\n      success: 'Сотрудник добавлен',\r\n      failure: 'Сотрудник не добавлен'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el)\r\n\r\n      this.$el.append(loader.loading())\r\n\r\n      const response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result)\r\n\r\n      const htmlUserInfo = userInfoTemplate(result,{build: 1}),\r\n            htmlCardInfo = userCardInfoTemplate(result,{build: 1})\r\n\r\n      loader.success()\r\n\r\n      setTimeout(() => {\r\n        const parent = this.$el.closest('.result__row'),\r\n              user = parent.querySelector('.js-user-info'),\r\n              info = parent.querySelector('.result__info')\r\n\r\n        user.innerHTML = htmlUserInfo\r\n        info.innerHTML = htmlCardInfo\r\n\r\n      },900)\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormEditUserComponent, in function submitHandler error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n        this.form.clear()\r\n        this.instanceDropDown.reset(this.form.form)\r\n        this.chainSelect.deleteOptions()\r\n\r\n        this.$el.closest('.modal').style.display = 'none'\r\n\r\n        Support.removeClass('.js-wrapper-modal',\r\n          ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n        loader.removeLoader()\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\nimport {userCardInfoTemplate} from \"../templates/user/userCardInfo.template\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormDeleteUserOrCardComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.partners = options.partners || []\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    this.form = new Form(this.$el, {\r\n      ID: []\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Удаление',\r\n      success: 'Удален',\r\n      failure: 'Неудача',\r\n      activeClass: 'loader--delete'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el)\r\n\r\n      this.$el.append(loader.loading())\r\n\r\n      const response = await apiService.useRequest(action,formData)\r\n\r\n      if(action === 'deleteUser'){\r\n        loader.success()\r\n\r\n        setTimeout(() => {\r\n          const id =  this.$el.closest('.result__row').querySelector('[data-sumbiot-page-counter]').dataset.id\r\n\r\n          // удаляем строку\r\n          this.partners.forEach(partner => partner.component.removeElementInArray(id))\r\n\r\n        },900)\r\n      }\r\n\r\n      if(action === 'deleteCard'){\r\n        const result = JSON.parse(response.data.result)\r\n\r\n        const htmlCardInfo = (+result.customUser) ? userCardInfoTemplate(result,{build: 1}) :\r\n              (+result.idMatrixWorks) ? userCardInfoTemplate(result,{build: 2}) :\r\n              userCardInfoTemplate(result,{build: 0})\r\n\r\n        loader.success()\r\n\r\n        setTimeout(() => {\r\n          const parent = this.$el.closest('.js-result-row'),\r\n                info = parent.querySelector('.result__info')\r\n\r\n          info.innerHTML = htmlCardInfo\r\n        },900)\r\n      }\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormDeleteUserOrCardComponent, in function submitHandler error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n\r\n        this.$el.closest('.modal').style.display = 'none'\r\n\r\n        loader.removeLoader()\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\nimport Support from \"../core/support\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\nimport {userCardInfoTemplate} from \"../templates/user/userCardInfo.template\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormAddOrEditCardComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    document.addEventListener('click', (e) => {\r\n\r\n      let target = e.target;\r\n\r\n      if (target && target.classList.contains('js-edit-card-modal') || target.parentElement.classList.contains('js-edit-card-modal') ) {\r\n        e.preventDefault()\r\n\r\n        if (target.parentElement.classList.contains('js-edit-card-modal')){\r\n          target = target.parentElement\r\n        }\r\n\r\n        this.form.clear()\r\n      }\r\n\r\n      if (target && target.classList.contains('js-edit-card') || target.parentElement.classList.contains('js-edit-card') ) {\r\n        e.preventDefault()\r\n\r\n        if (target.parentElement.classList.contains('js-edit-card')){\r\n          target = target.parentElement\r\n        }\r\n\r\n        getData.call(this,target)\r\n      }\r\n\r\n    })\r\n\r\n    this.form = new Form(this.$el, {\r\n      ID: [],\r\n      C_ATTESTATION_DATE: [],\r\n      C_NEXT_ATTESTATION_DATE: [],\r\n      C_CARD_NUMBER: [],\r\n    })\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик заполнения формы\r\n * @return {void}\r\n */\r\nasync function getData(target) {\r\n\r\n  let idTimeout;\r\n\r\n  const loader = new LoaderComponent({\r\n    loading: 'Идет сбор данных, об удостоверение',\r\n  })\r\n\r\n  try {\r\n\r\n    const formData = new FormData(),\r\n          attDateInput = this.$el.querySelector('.js-edit-att-date'),\r\n          nextAttDateInput = this.$el.querySelector('.js-edit-next-att-date'),\r\n          cardNumberInput = this.$el.querySelector('.js-edit-card-number')\r\n\r\n    formData.append('ID',target.dataset.id)\r\n\r\n    idTimeout = setTimeout(() =>{\r\n      this.$el.append(loader.loading())\r\n    },400)\r\n\r\n    const response = await apiService.useRequest('getCard',formData),\r\n      result = JSON.parse(response.data.result)\r\n\r\n    attDateInput.value = result.attestationDate\r\n    nextAttDateInput.value = result.nextAttestationDate\r\n    cardNumberInput.value = result.cardNumber\r\n\r\n  } catch (error) {\r\n    if(error.status === 'error') {\r\n\r\n      console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n        console.group('List of errors')\r\n\r\n        error.errors.forEach(error => {\r\n          console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n        })\r\n\r\n        console.groupEnd();\r\n\r\n      console.groupEnd();\r\n\r\n    } else {\r\n\r\n      console.group('In file FormAddOrEditCardComponent, in function getData error')\r\n        console.error(`${error.stack}`)\r\n      console.groupEnd();\r\n\r\n    }\r\n  } finally {\r\n    clearTimeout(idTimeout)\r\n\r\n    loader.removeLoader()\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    let loader;\r\n\r\n    if (this.$el.getAttribute('action').slice(1) === 'addCard') {\r\n\r\n      loader = new LoaderComponent({\r\n        loading: 'Добавление удостоверения',\r\n        success: 'Удостоверение добавлено',\r\n        failure: 'Удостоверение не добавлено'\r\n      })\r\n\r\n    }\r\n    else if (this.$el.getAttribute('action').slice(1) === 'editCard') {\r\n\r\n      loader = new LoaderComponent({\r\n        loading: 'Редактирование удостоверения',\r\n        success: 'Удостоверение отредактировано',\r\n        failure: 'Удостоверение не отредактировано'\r\n      })\r\n\r\n    }\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el)\r\n\r\n      this.$el.append(loader.loading())\r\n\r\n      const response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result)\r\n\r\n      const htmlCardInfo = (+result.customUser) ? userCardInfoTemplate(result,{build: 1}) :\r\n            (+result.idMatrixWorks) ? userCardInfoTemplate(result,{build: 2}) :\r\n              userCardInfoTemplate(result,{build: 0})\r\n\r\n      loader.success()\r\n\r\n      setTimeout(() => {\r\n        const parent = this.$el.closest('.result__row'),\r\n              info = parent.querySelector('.result__info')\r\n\r\n        info.innerHTML = htmlCardInfo\r\n\r\n      },900)\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormAddOrEditCardComponent, in function submitHandler error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n        this.form.clear()\r\n\r\n        this.$el.closest('.modal').style.display = 'none'\r\n\r\n        Support.removeClass('.js-wrapper-modal',\r\n          ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n        loader.removeLoader()\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\nimport {Validators} from \"../plugin/form-validator/validators\";\r\nimport Support from \"../core/support\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\nimport {userCardInfoTemplate} from \"../templates/user/userCardInfo.template\";\r\nimport {workNameTemplate} from \"../templates/workName.template\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormAddOrEditHseComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    if(this.$el.getAttribute('id') === 'edit-hse') {\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains('js-edit-hse-modal') || target.parentElement.classList.contains('js-edit-hse-modal') ) {\r\n          e.preventDefault()\r\n\r\n          if (target.parentElement.classList.contains('js-edit-hse-modal')){\r\n            target = target.parentElement\r\n          }\r\n\r\n          getData.call(this,target)\r\n\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n    this.form = new Form(this.$el, {\r\n      ID: [],\r\n      ID_MATRIX_WORKS: [Validators.required]\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик заполнения формы\r\n * @return {void}\r\n */\r\nasync function getData(target) {\r\n\r\n  let idTimeout;\r\n\r\n  const loader = new LoaderComponent({\r\n    loading: 'Идет сбор данных, о сотруднике',\r\n  })\r\n\r\n  try {\r\n\r\n    const formData = new FormData(),\r\n          options = this.$el.querySelectorAll('.dropdown__item')\r\n\r\n    formData.append('ID',target.dataset.id)\r\n\r\n    idTimeout = setTimeout(() =>{\r\n      this.$el.append(loader.loading())\r\n    },400)\r\n\r\n    const response = await apiService.useRequest('getIdHse',formData)\r\n\r\n    options.forEach(option => {\r\n      if(+option.dataset.selectOption === +response.data.result) {\r\n\r\n        option.click()\r\n      }\r\n    })\r\n\r\n  } catch (error) {\r\n    if(error.status === 'error') {\r\n\r\n      console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n        console.group('List of errors')\r\n\r\n        error.errors.forEach(error => {\r\n          console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n        })\r\n\r\n        console.groupEnd();\r\n      console.groupEnd();\r\n\r\n    } else {\r\n\r\n      console.group('In file FormAddOrEditHseComponent, in function getData error')\r\n        console.error(`${error.stack}`)\r\n      console.groupEnd();\r\n\r\n    }\r\n  } finally {\r\n    clearTimeout(idTimeout)\r\n\r\n    loader.removeLoader()\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Добавление должности',\r\n      success: 'Должность добавлена',\r\n      failure: 'Должность не добавлена'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el)\r\n\r\n      this.$el.querySelector('button').blur()\r\n      this.$el.append(loader.loading())\r\n\r\n      const response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result)\r\n\r\n      const htmlCardInfo = userCardInfoTemplate(result,{build: 2}),\r\n            htmlUserWork = workNameTemplate(result.work)\r\n\r\n      loader.success()\r\n\r\n      setTimeout(() => {\r\n        const parent = this.$el.closest('.result__row'),\r\n              info = parent.querySelector('.result__info'),\r\n              work = parent.querySelector('.js-matrix-work-hse')\r\n\r\n        info.innerHTML = htmlCardInfo\r\n\r\n        work.classList.add('g-justify-items-left')\r\n        work.setAttribute('title',result.work)\r\n        work.innerHTML = htmlUserWork\r\n      },900)\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group('In file ApiService, in function useRequest, promise return reject')\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormAddOrEditHseComponent, in function submitHandler error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n        this.$el.closest('.modal').style.display = 'none'\r\n\r\n        Support.removeClass('.js-wrapper-modal',\r\n          ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n        loader.removeLoader()\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Шаблон должность HSE\r\n *  @param {string} title - название должности\r\n *  @return {string}\r\n * */\r\nexport function workNameTemplate(title) {\r\n\r\n  return `\r\n    <span class=\"result__clip\">\r\n      ${title}\r\n    </span>\r\n  `\r\n}\r\n","import Component from \"../core/component\"\r\n\r\nimport Form from \"../plugin/form-validator/form\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\n/**\r\n *  Компонент добавить кастомного сотрудника\r\n * */\r\nexport default class FormSearchComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   * @param {Array=} [options.partners] - партнерские компоненты, которые помогают этому\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.partners = options.partners || []\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this.$el.addEventListener('submit', submitHandler.bind(this))\r\n\r\n    this.form = new Form(this.$el, {\r\n      SEARCH: [],\r\n      STATUS: []\r\n    })\r\n\r\n    getData.call(this)\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик заполнения имен сотрудников для поиска\r\n * @return {void}\r\n */\r\nasync function getData() {\r\n  try {\r\n\r\n    const optionsWrap = this.$el.querySelector('.js-options-search')\r\n\r\n    const response = await apiService.getFio()\r\n\r\n    if(Array.isArray(response)) {\r\n\r\n      let html = response.map(name => {\r\n        return `\r\n          <div class=\"dropdown__item\" title=\"${name}\" style=\"display: none\">\r\n            ${name}\r\n          </div>\r\n        `\r\n      })\r\n\r\n      optionsWrap.innerHTML = ''\r\n      optionsWrap.insertAdjacentHTML('afterbegin', html.join(''))\r\n\r\n    }\r\n\r\n  } catch (error) {\r\n    if(error.status === 'error') {\r\n\r\n      console.group('In file ApiService, in function getUsers, promise return reject')\r\n\r\n        console.group('List of errors')\r\n\r\n        error.errors.forEach(error => {\r\n          console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n        })\r\n\r\n        console.groupEnd();\r\n\r\n      console.groupEnd();\r\n\r\n    } else {\r\n\r\n      console.group('In file SearchComponent, in function getData error')\r\n        console.error(`${error.stack}`)\r\n      console.groupEnd();\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик отправки формы\r\n * @return {void}\r\n */\r\nasync function submitHandler(e) {\r\n\r\n  e.preventDefault()\r\n\r\n  let btnSubmit = e.target.querySelector('.js-button-search-submit')\r\n\r\n  btnSubmit.disabled = true\r\n  setTimeout(() => {\r\n    btnSubmit.blur()\r\n  },150)\r\n\r\n\r\n  if(this.form.isValid()){\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Идет поиск сотрудника',\r\n      failure: 'Ошибка',\r\n      activeClass: 'loader--min-height'\r\n    })\r\n\r\n    try {\r\n\r\n      const action = this.$el.getAttribute('action').slice(1),\r\n            formData = new FormData(this.$el),\r\n            searchResult = this.partners.find(partner => partner.name === 'searchResult')\r\n\r\n      this.$el.querySelector('.form__button--reset_search')?.remove()\r\n\r\n      this.partners.forEach(partner => partner.component.hide())\r\n\r\n      document.querySelector('.result').append(loader.loading())\r\n\r\n      const isAccess = await apiService.getAccessAdmin(),\r\n            response = await apiService.useRequest(action,formData),\r\n            result = JSON.parse(response.data.result),\r\n            count = result.length || 0,\r\n            bntNext = nextBtn.call(this)\r\n\r\n      loader.success(`Найдено: ${count} совпадений`)\r\n\r\n      count ?\r\n        searchResult.component.register(result, {isAccess}).show() :\r\n        searchResult.component.register(result, {bntNext, isAccess}).show()\r\n\r\n      this.$el.querySelector('.dropdown--input')?.append(resetRender.call(this))\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group(`In file ApiService, in function ${error.functionName}, promise return reject`)\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file FormSearchComponent error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n\r\n        loader.removeLoader()\r\n\r\n        btnSubmit.disabled = false\r\n\r\n      }, 900)\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Обработчик сброса поиска\r\n * @return {HTMLElement}\r\n */\r\nfunction resetRender() {\r\n\r\n  // btnReset\r\n  const btnReset = () => {\r\n    let btn = document.createElement('button')\r\n\r\n    btn.classList.add('form__button','form__button--reset_search')\r\n    btn.setAttribute('type','reset')\r\n\r\n    return btn\r\n  }\r\n\r\n  // btnHandler\r\n  const btnHandler = (e) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    this.form.clear()\r\n    this.$el.querySelector('.dropdown__toggle').style.paddingRight = ''\r\n\r\n    btn.removeEventListener('click', btnHandler)\r\n    btn.remove()\r\n\r\n    this.partners.forEach(partner => partner.component.hide())\r\n\r\n    this.partners.find(partner => partner.name === 'mainResult')\r\n      .component.show()\r\n  }\r\n\r\n  const btn = btnReset()\r\n\r\n  this.$el.querySelector('.dropdown__toggle').style.paddingRight = '30px'\r\n  btn.addEventListener('click', btnHandler)\r\n\r\n  return btn\r\n}\r\n\r\n/**\r\n * Назад кнопка, если поиск не дал результатов\r\n * @return {HTMLElement}\r\n */\r\nfunction nextBtn() {\r\n  let btn = document.createElement('button'),\r\n      text = document.createTextNode('на главную')\r\n\r\n  btn.append(text)\r\n  btn.classList.add('button','button--text')\r\n  btn.style.marginLeft = '10px'\r\n\r\n  btn.addEventListener('click', () => {\r\n\r\n    if(this.$el.querySelector('.dropdown__toggle'))\r\n      this.$el.querySelector('.dropdown__toggle').style.paddingRight = ''\r\n\r\n    this.$el.querySelector('.form__button--reset_search')?.remove()\r\n\r\n    this.partners.forEach(partner => partner.component.hide())\r\n\r\n    this.partners.find(partner => partner.name === 'mainResult')\r\n      .component.show()\r\n  })\r\n\r\n  return btn\r\n}\r\n\r\n\r\n","\r\n/**\r\n *  Постраничная навигация Ядро\r\n * */\r\nexport default class PaginationCore {\r\n\r\n  /**\r\n   * Добавляет новый метод к модалки, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import PaginationCore from \"../paginationCore\";\r\n\r\n/**\r\n *  Постраничная навигация\r\n * */\r\nexport default class Pagination extends PaginationCore{\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string | HTMLElement} paginationInSelector - куда на странице вставить навигацию.\r\n   * @param {string | HTMLElement} resultInSelector - куда на странице вставить результат выборку.\r\n   * @param {Array} listElements - список элементов (не как строка, а как Node).\r\n   * @param {Object=} options - конфигурация.\r\n   * @param {number} [options.perpage] - количество элементов на странице\r\n   * @param {number} [options.page] - с какой страницы начинать (активная)\r\n   * @param {Object} [options.counter] - с какой страницы начинать (активная)\r\n   * @param {Boolean} [options.counter.active] - всклучить нумерацию\r\n   * @param {string} [options.counter.selectorForInserts] - куда в элементе вставить номер\r\n   */\r\n  constructor(paginationInSelector,resultInSelector,listElements,\r\n              {\r\n                perpage = 25,\r\n                page = 1,\r\n                counter = {\r\n                  active: false,\r\n                  selectorForInserts: '[data-sumbiot-page-counter]'\r\n                },\r\n              } = {}) {\r\n\r\n    super()\r\n\r\n    this.$paginationInElement = paginationInSelector.tagName ? paginationInSelector : document.querySelector(paginationInSelector)\r\n    this.$resultInElement = resultInSelector.tagName ? resultInSelector : document.querySelector(resultInSelector)\r\n\r\n    this._listElements = listElements\r\n    this._countListElements = this._listElements.length || 0 // сколько всего элементов\r\n\r\n    this._perpage = perpage // сколько показывать на странице\r\n\r\n    this._pagesCount = Math.ceil(this._countListElements / this._perpage) || 1; // кол-во страниц\r\n\r\n    this._page = page // активная страница\r\n\r\n    // счетчик\r\n    counter.active ? this._counter = counter : ''\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация постраничной навигация\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n    this._switchPage()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который переключает страницы\r\n   * @return {void}\r\n   */\r\n  _switchingHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    let target = e.target;\r\n\r\n    if(target && target.classList.contains('pagination__btn') || target && target.parentElement.classList.contains('pagination__btn')) {\r\n\r\n      if (target.parentElement.classList.contains('pagination__btn')){\r\n        target = target.parentElement\r\n      }\r\n\r\n      this._switchPage(target)\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Переключить страницу\r\n   * @return {void}\r\n   */\r\n  _switchPage(btn = null) {\r\n    if(btn) {\r\n      this._page = +btn.dataset.page\r\n    }\r\n\r\n    let start = (this._page - 1) * this._perpage,\r\n        end = start + this._perpage\r\n\r\n    let resSlice = this._listElements.slice(start, end)\r\n\r\n    if(this._counter) {\r\n      this._counterPage(start,resSlice)\r\n    }\r\n\r\n    this.$resultInElement.innerHTML = ''\r\n    this.$resultInElement.append(...resSlice)\r\n\r\n    this._removeEventListenerClick()\r\n\r\n    if(this._pagesCount > 1){\r\n      this._paginationCreate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Показать нужную страницу\r\n   * @param {number} number - номер страницы которую надо показать\r\n   * @return {void}\r\n   */\r\n  showPage(number= 1) {\r\n    this._countListElements = this._listElements.length || 0 // сколько всего элементов\r\n    this._pagesCount = Math.ceil(this._countListElements / this._perpage) || 0; // кол-во страниц\r\n\r\n    this._page = (this._pagesCount < number) ? this._pagesCount :\r\n                 (number < 1) ? 1 :\r\n                 number\r\n\r\n    this._switchPage()\r\n  }\r\n\r\n  /**\r\n   * Создаем Html код для постраничной навигации и помещаем на страницу\r\n   * @return {void}\r\n   */\r\n  _paginationCreate(){\r\n    const pagination = document.createElement('div')\r\n          pagination.classList.add('pagination')\r\n\r\n    let startPage = (this._page > 3) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"1\">1</button>` : '',\r\n        endPage = (this._page < (this._pagesCount - 2)) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._pagesCount}\">${this._pagesCount}</button>` : '',\r\n\r\n        page4left = (this._page - 4 > 1) ? `<span class=\"pagination__plug\">...</span>` : '',\r\n        page3left = (this._page - 3 > 1) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page - 3}\">${this._page - 3}</button>` : '',\r\n        page2left = (this._page - 2 > 0) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page - 2}\">${this._page - 2}</button>` : '',\r\n        page1left = (this._page - 1 > 0) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page - 1}\">${this._page - 1}</button>` : '',\r\n\r\n        page4right = (this._page + 4 < this._pagesCount) ? `<span class=\"pagination__plug\">...</span>` : '',\r\n        page3right = (this._page + 3 < this._pagesCount) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page + 3}\">${this._page + 3}</button>` : '',\r\n        page2right = (this._page + 2 <= this._pagesCount) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page + 2}\">${this._page + 2}</button>` : '',\r\n        page1right = (this._page + 1 <= this._pagesCount) ? `<button type=\"button\" class=\"pagination__btn\" data-page=\"${this._page + 1}\">${this._page + 1}</button>` : '',\r\n\r\n        pageActive = `<button type=\"button\" class=\"pagination__btn pagination__btn--active\">${this._page}</button>`\r\n\r\n    pagination.innerHTML = startPage + page4left + page3left + page2left + page1left + pageActive + page1right + page2right + page3right + page4right + endPage\r\n\r\n    this.$paginationInElement.append(pagination)\r\n\r\n    this._addEventListenerClick()\r\n  }\r\n\r\n  /**\r\n   * Добавить слушатель\r\n   * @return {void}\r\n   */\r\n  _addEventListenerClick() {\r\n    this.$paginationInElement.querySelectorAll('.pagination__btn').forEach(btn => {\r\n      btn.addEventListener('click', this._switchingHandler)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Удалить слушатель\r\n   * @return {void}\r\n   */\r\n  _removeEventListenerClick() {\r\n    this.$paginationInElement.querySelectorAll('.pagination__btn').forEach(btn => {\r\n      btn.removeEventListener('click', this._switchingHandler)\r\n    })\r\n    this.$paginationInElement.querySelector('.pagination')?.remove()\r\n  }\r\n\r\n  /**\r\n   * Нумерация элементов на страницы\r\n   * @param {number} start - начальная позиция\r\n   * @param {Array} slice - начальная позиция\r\n   * @return {void}\r\n   */\r\n  _counterPage(start,slice) {\r\n    let startNumber = start + 1;\r\n\r\n    slice.forEach(element => {\r\n      element.querySelector(this._counter.selectorForInserts).innerHTML = startNumber\r\n\r\n      startNumber++\r\n    })\r\n  }\r\n\r\n}\r\n","import {userInfoTemplate} from \"./userInfo.template\";\r\nimport {userCardInfoTemplate} from \"./userCardInfo.template\";\r\n\r\n/**\r\n *  Шаблон сотрудник\r\n *  @param {Object} user - сотрудник\r\n *  @param {Object} options - настройки\r\n *  @param {number} [options.build] - в какой конфигурации собирать сотрудника 1-кастомный, 2-из БХ, 0-из БХ без Hse\r\n *  @param {boolean} [options.isAccess] - в какой конфигурации собирать сотрудника true - администратор | false - редовой\r\n *  @return {Element}\r\n * */\r\nexport function userMainTemplate(user,\r\n  {\r\n    build = 0,\r\n    isAccess = true\r\n  } = {}\r\n) {\r\n\r\n  // тело элемента\r\n  const $user = document.createElement('div')\r\n  $user.classList.add('result__row','js-result-row')\r\n\r\n  // внутренности элемента\r\n  const htmlInUser = `\r\n      <div class=\"row gx-0 js-accordion js-user-info\">\r\n        ${userInfoTemplate(user,{build, isAccess})}\r\n      </div><!--/.js-user-info-->\r\n\r\n      <div class=\"result__info js-wrapper-modal\">\r\n        ${userCardInfoTemplate(user,{build, isAccess})}\r\n      </div><!--./result__info-->\r\n  `\r\n\r\n  $user.insertAdjacentHTML('afterbegin', htmlInUser)\r\n\r\n  return $user\r\n}\r\n","\r\n/**\r\n *  Заглушка для сотрудников\r\n *  @param {string} text - текст заглушки\r\n *  @return {string}\r\n * */\r\nexport function userPlugTemplate(text) {\r\n\r\n  return `\r\n    <div class=\"result__row js-result-row\">\r\n      <div class=\"row gx-0 result__empty\">\r\n        <div class=\"col-12 text-align-center d-block\">\r\n          ${text}\r\n        </div>\r\n      </div>\r\n    </div><!--./result__row-->\r\n  `\r\n\r\n}\r\n","import Component from \"../core/component\";\r\n\r\nimport Pagination from \"../library/sumbiot/modules/pagination/components/pagination\";\r\n\r\nimport {userMainTemplate} from \"../templates/user/userMain.template\";\r\nimport {userPlugTemplate} from \"../templates/user/userPlug.template\";\r\n\r\n/**\r\n *  Компонент выводит результат работы компонента фильтр\r\n * */\r\nexport default class ResultFilterComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.$pasteInElement =  this.$el.querySelector('.result__inner')\r\n    this.data = null\r\n\r\n  }\r\n\r\n  /**\r\n   * Зарегистрировать данные для показа\r\n   * @param {Array} result - данные для показа\r\n   * @param {Object=} options - дополнительные данные и настройки\r\n   * @return {this}\r\n   */\r\n  register(result,options= {}) {\r\n\r\n    this.data = {\r\n      result,\r\n      ...options\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * Показать компонент\r\n   * @return {void}\r\n   */\r\n  show() {\r\n    this.$el.style.display = 'block'\r\n\r\n    this._onShow()\r\n  }\r\n\r\n  /**\r\n   * Действия после показа компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onShow() {\r\n\r\n    if(this.data) {\r\n\r\n      if(Array.isArray(this.data.result) && this.data.result.length) {\r\n\r\n        this.html = this.data.result.map(user => {\r\n          if(+user.customUser) {\r\n            return userMainTemplate(user,{build: 1, isAccess: this.data.isAccess})\r\n          } else if (+user.idMatrixWorks) {\r\n            return userMainTemplate(user,{build: 2, isAccess: this.data.isAccess})\r\n          } else {\r\n            return userMainTemplate(user,{build: 0, isAccess: this.data.isAccess})\r\n          }\r\n        })\r\n\r\n        this.pagination = new Pagination(this.$el,this.$pasteInElement,this.html,{\r\n          counter: {\r\n            active: true,\r\n            selectorForInserts: '[data-sumbiot-page-counter]'\r\n          }\r\n        })\r\n      }\r\n      else{\r\n        this.html = userPlugTemplate(`Найдено: 0 совпадений`)\r\n\r\n        this.$pasteInElement.insertAdjacentHTML('afterbegin',this.html)\r\n      }\r\n\r\n      this.data = null\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Действия после скрытия компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onHide() {\r\n    this.$pasteInElement.innerHTML = ''\r\n    this.$el.querySelector('.pagination')?.remove()\r\n  }\r\n\r\n  /**\r\n   * Удаляем из моссива элемент\r\n   * @param {string} id - id сотрудника которого надо удалить\r\n   * @return {this}\r\n   */\r\n  removeElementInArray(id) {\r\n\r\n    if(this.html && Array.isArray(this.html)) {\r\n      let index = this.html.findIndex(user =>  user.querySelector('[data-sumbiot-page-counter]').dataset.id === id)\r\n\r\n      if(index !== -1) {\r\n        this.html.splice(index,1)\r\n\r\n        this.pagination.showPage(this.pagination._page)\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"../core/component\";\r\nimport LoaderComponent from \"./loader.component\";\r\n\r\nimport Pagination from \"../library/sumbiot/modules/pagination/components/pagination\";\r\n\r\nimport {apiService} from \"../services/api.service\";\r\n\r\nimport {userMainTemplate} from \"../templates/user/userMain.template\";\r\n\r\n/**\r\n *  Компонент вывод все сотрудников\r\n * */\r\nexport default class ResultMainComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.$pasteInElement =  this.$el.querySelector('.result__inner')\r\n\r\n  }\r\n\r\n  /**\r\n   * Интерфейс компонента\r\n   * @return {void}\r\n   */\r\n  _init() {\r\n\r\n    this.getAllUsers()\r\n\r\n  }\r\n\r\n  /**\r\n   * Отрисовать всех сотрудниуов на главной страницы ком\r\n   * @return {void}\r\n   */\r\n  async getAllUsers() {\r\n\r\n    const loader = new LoaderComponent({\r\n      loading: 'Приложение загружается, подождите',\r\n      success: 'Приложение загружено, приятной работы',\r\n      failure: 'Приложение не загружено, что то пошло не так',\r\n      activeClass: 'loader--min-height'\r\n    })\r\n\r\n    let btns = document.querySelectorAll('.top-panel__btn, .form__button')\r\n\r\n    btns.forEach(btn => {\r\n      btn.disabled = true\r\n    })\r\n\r\n    let isAccess;\r\n\r\n    try {\r\n\r\n      document.querySelector('.result').append(loader.loading())\r\n\r\n      isAccess = await apiService.getAccessAdmin()\r\n\r\n      const response = await apiService.getUsers()\r\n\r\n      if(Array.isArray(response) && response.length) {\r\n\r\n        this.html = response.map(user => {\r\n          if(+user.customUser) {\r\n            return userMainTemplate(user,{build: 1, isAccess})\r\n          } else if (+user.idMatrixWorks) {\r\n            return userMainTemplate(user,{build: 2, isAccess})\r\n          } else {\r\n            return userMainTemplate(user,{build: 0, isAccess})\r\n          }\r\n        })\r\n\r\n        loader.success()\r\n\r\n        setTimeout(() => {\r\n          this.pagination = new Pagination(this.$el, this.$pasteInElement, this.html, {\r\n            counter: {\r\n              active: true,\r\n              selectorForInserts: '[data-sumbiot-page-counter]'\r\n            }\r\n          })\r\n        }, 950)\r\n\r\n      } else {\r\n\r\n        console.error('In file ResultMainComponent, in function getAllUsers, response is either not an array or an empty array')\r\n\r\n      }\r\n\r\n    } catch (error) {\r\n\r\n      loader.failure()\r\n\r\n      if(error.status === 'error') {\r\n\r\n        console.group(`In file ApiService, in function ${error.functionName}, promise return reject`)\r\n\r\n          console.group('List of errors')\r\n\r\n          error.errors.forEach(error => {\r\n            console.error(`Name: ${error.message}\\n Code: ${error.code}\\n customData: ${error.customData}`)\r\n          })\r\n\r\n          console.groupEnd();\r\n\r\n        console.groupEnd();\r\n\r\n      } else {\r\n\r\n        console.group('In file ResultMainComponent, in function getAllUsers error')\r\n          console.error(`${error.stack}`)\r\n        console.groupEnd();\r\n\r\n      }\r\n    } finally {\r\n\r\n      setTimeout(() => {\r\n\r\n        loader.removeLoader()\r\n\r\n        btns.forEach(btn => {\r\n\r\n          if(isAccess) {\r\n            btn.disabled = false\r\n          }\r\n\r\n          if(!isAccess && !btn.classList.contains('js-isAccess')) {\r\n            btn.disabled = false\r\n          }\r\n\r\n          if(!isAccess && btn.classList.contains('js-isAccess')) {\r\n            btn.classList.add('btn--disabled')\r\n            btn.setAttribute('title', 'Нет прав доступа')\r\n\r\n            if(btn.href) {\r\n              btn.removeAttribute('href')\r\n            }\r\n          }\r\n        })\r\n\r\n      }, 900)\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * добавить сотрудника в начало\r\n   * @param {Object} user - сотрудник\r\n   * @return {this}\r\n   */\r\n  unshift(user) {\r\n\r\n    if(user) {\r\n      let html =  userMainTemplate(user,{build: 1})\r\n\r\n      if(this.html) {\r\n\r\n        this.html.unshift(html)\r\n\r\n        this.pagination.showPage(1)\r\n\r\n      } else {\r\n\r\n        this.$pasteInElement.insertAdjacentElement('afterbegin', html)\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * Удаляем из моссива элемент\r\n   * @param {string} id - id сотрудника которого надо удалить\r\n   * @return {this}\r\n   */\r\n  removeElementInArray(id) {\r\n\r\n    if(this.html && Array.isArray(this.html)) {\r\n      let index = this.html.findIndex(user =>  user.querySelector('[data-sumbiot-page-counter]').dataset.id === id)\r\n\r\n      if(index !== -1) {\r\n        this.html.splice(index,1)\r\n\r\n        this.pagination.showPage(this.pagination._page)\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"../core/component\";\r\n\r\nimport Pagination from \"../library/sumbiot/modules/pagination/components/pagination\";\r\n\r\nimport {userMainTemplate} from \"../templates/user/userMain.template\";\r\nimport {userPlugTemplate} from \"../templates/user/userPlug.template\";\r\n\r\n/**\r\n *  Компонент выводит результат работы компонента фильтр\r\n * */\r\nexport default class ResultSearchComponent extends Component {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} id         - находит компонент.\r\n   * @param {Object=} options   - конфигурация.\r\n   */\r\n  constructor(id,options) {\r\n\r\n    super(id,options);\r\n\r\n    this.$pasteInElement =  this.$el.querySelector('.result__inner')\r\n\r\n  }\r\n\r\n  /**\r\n   * Зарегистрировать данные для показа\r\n   * @param {Array} result - данные для показа\r\n   * @param {Object=} options - дополнительные данные и настройки\r\n   * @return {this}\r\n   */\r\n  register(result,options= {}) {\r\n\r\n    this.data = {\r\n      result,\r\n      ...options\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * Показать компонент\r\n   * @return {void}\r\n   */\r\n  show() {\r\n    this.$el.style.display = 'block'\r\n\r\n    this._onShow()\r\n  }\r\n\r\n  /**\r\n   * Действия после показа компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onShow() {\r\n\r\n    if(this.data) {\r\n\r\n      if (Array.isArray(this.data.result) && this.data.result.length) {\r\n\r\n        this.html = this.data.result.map(user => {\r\n          if (+user.customUser) {\r\n            return userMainTemplate(user, {build: 1, isAccess: this.data.isAccess})\r\n          } else if (+user.idMatrixWorks) {\r\n            return userMainTemplate(user, {build: 2, isAccess: this.data.isAccess})\r\n          } else {\r\n            return userMainTemplate(user, {build: 0, isAccess: this.data.isAccess})\r\n          }\r\n        })\r\n\r\n        setTimeout(() => {\r\n          this.pagination = new Pagination(this.$el, this.$pasteInElement, this.html,{\r\n            counter: {\r\n              active: true,\r\n              selectorForInserts: '[data-sumbiot-page-counter]'\r\n            }\r\n          })\r\n        }, 950)\r\n      } else {\r\n\r\n        this.html = userPlugTemplate(`Ваш запрос не дал результатов`)\r\n\r\n        setTimeout(() => {\r\n          this.$pasteInElement.insertAdjacentHTML('afterbegin', this.html)\r\n\r\n          this.$el.querySelector('.text-align-center')?.append(this.data.bntNext)\r\n        }, 950)\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.data = null\r\n      },1000)\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Действия после скрытия компонента (хук)\r\n   * @return {void}\r\n   */\r\n  _onHide() {\r\n    this.$pasteInElement.innerHTML = ''\r\n    this.$el.querySelector('.pagination')?.remove()\r\n  }\r\n\r\n  /**\r\n   * Удаляем из моссива элемент\r\n   * @param {string} id - id сотрудника которого надо удалить\r\n   * @return {this}\r\n   */\r\n  removeElementInArray(id) {\r\n\r\n    if(this.html && Array.isArray(this.html)) {\r\n      let index = this.html.findIndex(user =>  user.querySelector('[data-sumbiot-page-counter]').dataset.id === id)\r\n\r\n      if(index !== -1) {\r\n        this.html.splice(index,1)\r\n\r\n        this.pagination.showPage(this.pagination._page)\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","/**\r\n *  Панель для выпадающего списка, для раскрытия списка по горизонтали\r\n * */\r\nexport default class StretchInSelectPlugin {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} panelsSelector   - селектор панелей для выпадающего списка.\r\n   * @param {string} stretchSelector  - селектор элемента над которым будет проводится модификация.\r\n   * @param {string} activeClass      - класс модификатор для элемента над которым будет проводится модификация.\r\n   */\r\n  constructor(panelsSelector,stretchSelector,activeClass) {\r\n\r\n    this._panelsElements = document.querySelectorAll(panelsSelector)\r\n    this._stretchSelector = stretchSelector\r\n    this._activeClass = activeClass\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация\r\n   * @return {void}\r\n   */\r\n  _init(){\r\n    this._stretchHandler()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по панели\r\n   * @return {void}\r\n   */\r\n  _stretchHandler(){\r\n\r\n    this._panelsElements.forEach(panel => {\r\n      let stretchBtn = panel.querySelector('.option-panel__item--stretch')\r\n\r\n      stretchBtn?.addEventListener('click', (e) => {\r\n        e.preventDefault()\r\n\r\n        this._toggle(panel,stretchBtn)\r\n\r\n      })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Развернуть или свернуть список по горизонтали\r\n   * @return {void}\r\n   */\r\n  _toggle(panelElement,stretchBtnElement){\r\n\r\n    panelElement.closest(this._stretchSelector).classList.toggle(this._activeClass)\r\n\r\n    stretchBtnElement.classList.toggle('option-panel__item--stretch-off')\r\n    stretchBtnElement.title.toLowerCase() === 'развернуть' ?\r\n      stretchBtnElement.setAttribute('title','Свернуть') :\r\n      stretchBtnElement.setAttribute('title','Развернуть')\r\n  }\r\n\r\n}\r\n","/**\r\n *  Панель для выпадающего списка, для поиска по списку\r\n * */\r\nexport default class SearchInSelectPlugin {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} panelsSelector   - селектор панелей для выпадающего списка.\r\n   * @param {string} searchSelector   - селектор блока поиска.\r\n   */\r\n  constructor(panelsSelector,searchSelector) {\r\n\r\n    this._panelsElements = document.querySelectorAll(panelsSelector)\r\n    this._searchSelector = searchSelector\r\n\r\n    this._init()\r\n  }\r\n\r\n  /**\r\n   * Инициализация\r\n   * @return {void}\r\n   */\r\n  _init(){\r\n    this._searchHandler()\r\n  }\r\n\r\n  /**\r\n   * Обработчик событий по поиску\r\n   * @return {void}\r\n   */\r\n  _searchHandler(){\r\n\r\n    this._panelsElements.forEach(panel => {\r\n      let parentElement = panel.parentElement,\r\n          searchBtn = panel.querySelector('.option-panel__item--search'),\r\n          searchInput = parentElement.querySelector('.dropdown__search'),\r\n          resetBtn = parentElement.querySelector('.dropdown__search-reset')\r\n\r\n      searchBtn?.addEventListener('click', (e) => {\r\n        e.preventDefault()\r\n\r\n        this._toggleSearch(parentElement,searchInput)\r\n\r\n      })\r\n\r\n      searchInput?.addEventListener('input', (e) => {\r\n        e.preventDefault()\r\n\r\n        this._searchOptions(parentElement,searchInput)\r\n      })\r\n\r\n      searchInput?.addEventListener('keydown', (e) => {\r\n        if (e.keyCode === 13) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n\r\n      searchInput?.addEventListener('paste', (e) => {\r\n        e.preventDefault()\r\n\r\n        searchInput.innerText = e.clipboardData.getData('text/plain')\r\n\r\n        this._searchOptions(parentElement,searchInput)\r\n      });\r\n\r\n      resetBtn?.addEventListener('click', (e) => {\r\n        e.preventDefault()\r\n\r\n        this._reset(parentElement,searchInput)\r\n      })\r\n\r\n      parentElement.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n\r\n        if (target && target.classList.contains('dropdown__item') || target && target.parentElement.classList.contains('dropdown__item')) {\r\n\r\n          this._reset(parentElement,searchInput)\r\n        }\r\n\r\n      })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Показаль или скрыть поиск\r\n   * @return {void}\r\n   */\r\n  _toggleSearch(parentElement,searchInput){\r\n    let searchBox = parentElement.querySelector(this._searchSelector),\r\n        options = parentElement.querySelectorAll('.dropdown__item'),\r\n        plug = searchInput.nextElementSibling\r\n\r\n    if(!!searchBox.hidden) {\r\n\r\n      searchBox.hidden = false\r\n      searchInput.focus()\r\n\r\n    } else {\r\n      searchBox.hidden = true\r\n\r\n      searchInput.innerText = ''\r\n\r\n      options.forEach(option => {\r\n        option.style.display = 'block';\r\n      })\r\n\r\n      plug.hidden = true\r\n      plug.nextElementSibling.hidden = true\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Поиск по пунктам выподающего списка\r\n   * @return {void}\r\n   */\r\n  _searchOptions(parentElement,searchInput){\r\n    let flag = false,\r\n        valueInput = searchInput.innerText.trim(),\r\n        options = parentElement.querySelectorAll('.dropdown__item'),\r\n        plug = searchInput.nextElementSibling\r\n\r\n    plug.hidden = true\r\n\r\n    if(valueInput) {\r\n\r\n      plug.nextElementSibling.hidden = false\r\n\r\n      options.forEach(option => {\r\n\r\n        if(option.innerText.toUpperCase().includes(valueInput.toUpperCase())) {\r\n          option.style.display = 'block';\r\n\r\n          flag = true\r\n        } else {\r\n          option.style.display = 'none';\r\n        }\r\n\r\n      })\r\n\r\n      if(!flag) {\r\n        plug.hidden = false\r\n      }\r\n\r\n    } else {\r\n\r\n      plug.nextElementSibling.hidden = true\r\n\r\n      options.forEach(option => {\r\n        option.style.display = 'block';\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Сброс поиска до настроек по умолчанию\r\n   * @return {void}\r\n   */\r\n  _reset(parentElement,searchInput) {\r\n    let options = parentElement.querySelectorAll('.dropdown__item')\r\n\r\n    options.forEach(option => {\r\n      option.style.display = 'block';\r\n    })\r\n\r\n    searchInput.innerText = ''\r\n    searchInput.nextElementSibling.hidden = true\r\n    searchInput.nextElementSibling.nextElementSibling.hidden = true\r\n  }\r\n}\r\n","import Support from '../core/support'\r\n\r\n/**\r\n *  Добавляет новую функциональность уже существующим классам, не изменяя исходный код класса\r\n * */\r\nexport default class VisitorPattern {\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна которое реализует\r\n   * редактировать / добавить / продлить\r\n   * удостоверение\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static modalsUnityMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      // изменяет заголовок\r\n      const editTitle = (target) => {\r\n        let btnText = target.innerText\r\n\r\n        this.modal.querySelector('.modal__title').innerText = `${btnText || 'Редактировать'} удостоверение`\r\n      }\r\n\r\n      // изменяет обработчик\r\n      const editAction = (target) => {\r\n        this.modal.querySelector('form').action = target.dataset.action || ''\r\n      }\r\n\r\n      // добавляет id\r\n      const addUserId = (target) => {\r\n        if(target.dataset.idUser) {\r\n          const input = document.createElement('input')\r\n\r\n          input.classList.add('js-input-user-id')\r\n\r\n          input.setAttribute('type','hidden')\r\n          input.setAttribute('name','ID_USER')\r\n          input.setAttribute('value',target.dataset.idUser)\r\n\r\n          this.modal.querySelector('form').prepend(input)\r\n        }\r\n\r\n        if(target.dataset.customUser) {\r\n          const input = document.createElement('input')\r\n\r\n          input.classList.add('js-input-custom-user')\r\n\r\n          input.setAttribute('type','hidden')\r\n          input.setAttribute('name','CUSTOM_USER')\r\n          input.setAttribute('value',target.dataset.customUser)\r\n\r\n          this.modal.querySelector('form').prepend(input)\r\n        }\r\n      }\r\n\r\n      // удаляет id\r\n      const deleteUserId = () => {\r\n        const inputs = this.modal.querySelectorAll('input')\r\n\r\n        for (let input of inputs) {\r\n          if (input.classList.contains('js-input-user-id') || input.classList.contains('js-input-custom-user'))\r\n            input.remove()\r\n        }\r\n      }\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          if (target.parentElement.classList.contains(this._trigger.slice(1))){\r\n            target = target.parentElement\r\n          }\r\n\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n          Support.addClosestClass(target,'.js-wrapper-modal',['result__info--min_height-380'])\r\n\r\n          deleteUserId()\r\n\r\n          editTitle(target)\r\n\r\n          editAction(target)\r\n\r\n          addUserId(target)\r\n\r\n        }\r\n\r\n      })\r\n\r\n      // по кнопки закрытия модального окна\r\n      this._close.addEventListener('click', (e) => {\r\n        Support.removeClosestClass(e.target,'.js-wrapper-modal',['result__info--min_height-380'])\r\n      })\r\n\r\n      // по клавиши Esc\r\n      window.addEventListener(\"keydown\", (e) => {\r\n        if(e.key === \"Escape\" || e.keyCode === 27) {\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (добавления сотрудника и фильтр) которое реализует\r\n   * сброс высоты до стандартной\r\n   * у блока 'result__info'\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static modalsStandardMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target && target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          // неиспользуется\r\n\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (редактировать сотрудника) которое реализует\r\n   * подгон высоты для родительского блока под\r\n   * модальное окно\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static editUserMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          if (target.parentElement.classList.contains(this._trigger.slice(1)))\r\n            target = target.parentElement\r\n\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n          Support.addClosestClass(target,'.js-wrapper-modal',['result__info--min_height-442'])\r\n\r\n        }\r\n\r\n      })\r\n\r\n      // по кнопки закрытия модального окна\r\n      this._close.addEventListener('click', (e) => {\r\n        Support.removeClosestClass(e.target,'.js-wrapper-modal',['result__info--min_height-442'])\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (удаления) которое реализует\r\n   * удаление\r\n   * удостоверение / сотрудника\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static modalsUnityDeleteMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      // изменяет обработчик\r\n      const editAction = (target) => {\r\n        this.modal.querySelector('form').action = target.dataset.action || ''\r\n      }\r\n\r\n      // добавляет user id\r\n      const addUserId = (target) => {\r\n        if(target.dataset.idUser) {\r\n          const input = document.createElement('input')\r\n\r\n          input.classList.add('js-input-user-id')\r\n\r\n          input.setAttribute('type','hidden')\r\n          input.setAttribute('name','ID_USER')\r\n          input.setAttribute('value',target.dataset.idUser)\r\n\r\n          this.modal.querySelector('form').prepend(input)\r\n        }\r\n\r\n        if(target.dataset.customUser) {\r\n          const input = document.createElement('input')\r\n\r\n          input.classList.add('js-input-custom-user')\r\n\r\n          input.setAttribute('type','hidden')\r\n          input.setAttribute('name','CUSTOM_USER')\r\n          input.setAttribute('value',target.dataset.customUser)\r\n\r\n          this.modal.querySelector('form').prepend(input)\r\n        }\r\n      }\r\n\r\n      // удаляет user id\r\n      const deleteUserId = () => {\r\n        const inputs = this.modal.querySelectorAll('input')\r\n\r\n        for (let input of inputs) {\r\n          if (input.classList.contains('js-input-user-id') || input.classList.contains('js-input-custom-user'))\r\n            input.remove()\r\n        }\r\n      }\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          if (target.parentElement.classList.contains(this._trigger.slice(1))){\r\n            target = target.parentElement\r\n          }\r\n\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n          deleteUserId()\r\n\r\n          editAction(target)\r\n\r\n          addUserId(target)\r\n\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (добавить HSE) которое реализует\r\n   * останавку распростронения события и следит за позиционированием\r\n   * модального окна\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static addHseMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function (instanceDropDown) {\r\n\r\n      // если до низу экрана меньше 210px позицианируем модалку вверху кнопки\r\n      const modalPosition = (e) => {\r\n        if(window.innerHeight - e.clientY < 210) {\r\n          this.modal.classList.add(\"modal--position-top\")\r\n        }else {\r\n          this.modal.classList.remove(\"modal--position-top\")\r\n        }\r\n      }\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          e.stopPropagation()\r\n\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n          instanceDropDown.reset(this.modal.querySelector('#add-hse'))\r\n\r\n          modalPosition(e)\r\n        }\r\n\r\n      },true)\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (редактировать HSE) которое реализует\r\n   * подгон высоты для родительского блока под\r\n   * модальное окно\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static editHseMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.classList.contains(this._trigger.slice(1)) || target.parentElement.classList.contains(this._trigger.slice(1)) ) {\r\n\r\n          if (target.parentElement.classList.contains(this._trigger.slice(1))){\r\n            target = target.parentElement\r\n          }\r\n\r\n          Support.removeClass('.js-wrapper-modal',\r\n            ['result__info--min_height-380', 'result__info--min_height-442', 'result__info--min_height-265'])\r\n\r\n          Support.addClosestClass(target,'.js-wrapper-modal',['result__info--min_height-265'])\r\n\r\n        }\r\n\r\n      })\r\n\r\n      // по кнопки закрытия модального окна\r\n      this._close.addEventListener('click', (e) => {\r\n        Support.removeClosestClass(e.target,'.js-wrapper-modal',['result__info--min_height-265'])\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра выподающего списка которое реализует\r\n   * позицианирование\r\n   * выподающего списка\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static positionMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      // если до низу экрана меньше 372px позицианируем модалку вверху кнопки\r\n      const selectPosition = (wrap,e) => {\r\n        if(document.documentElement.scrollHeight - e.pageY < 400) {\r\n          wrap.nextElementSibling.classList.add('dropdown__options--top-position')\r\n        }else {\r\n          wrap.nextElementSibling.classList.remove('dropdown__options--top-position')\r\n        }\r\n      }\r\n\r\n      let optionWrap = document.querySelectorAll('.js-dropdown__toggle')\r\n\r\n      optionWrap.forEach(wrap => {\r\n\r\n        wrap.addEventListener('click', (e)=> {\r\n          e.preventDefault()\r\n\r\n          selectPosition(wrap,e)\r\n\r\n        })\r\n\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Посититель для экземпляра аккрдиона которое реализует\r\n   * переключение класса активности родителю\r\n   * аккрдиона\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static accordionParentMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      // переключает класс\r\n      const toggleParent = (target) => {\r\n        document.querySelectorAll(this._triggerSelector).forEach(element => {\r\n\r\n          if(element === target.closest(this._triggerSelector)){\r\n            target.closest(this._triggerSelector).parentElement.classList.toggle('result__row--active')\r\n          }else {\r\n            element.parentElement.classList.remove('result__row--active')\r\n          }\r\n\r\n        })\r\n      }\r\n\r\n      document.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n\r\n        if (target && target.closest(this._triggerSelector)) {\r\n          toggleParent(target)\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n}\r\n","import Modal from './library/sumbiot/modules/modals/components/modal';\r\nimport ModalDynamics from './library/sumbiot/modules/modals/components/modalDynamics';\r\nimport Accordion from './library/sumbiot/modules/accordion/components/accordion';\r\nimport DropdownSelect from './library/sumbiot/modules/dropdown/components/dropdownSelect';\r\nimport DropdownInput from \"./library/sumbiot/modules/dropdown/components/dropdownInput\";\r\n\r\nimport FormAddUserComponent from \"./components/form-add-user.component\";\r\nimport FormFilterComponent from \"./components/form-filter.component\";\r\nimport FormEditUserComponent from \"./components/form-edit-user.component\";\r\nimport FormDeleteUserOrCardComponent from \"./components/form-delete-user-or-card.component\";\r\nimport FormAddOrEditCardComponent from \"./components/form-add-or-edit-card.component\";\r\nimport FormAddOrEditHseComponent from \"./components/form-add-or-edit-hse.component\";\r\nimport FormSearchComponent from \"./components/form-search.component\";\r\nimport ResultFilterComponent from \"./components/result-filter.component\";\r\nimport ResultMainComponent from \"./components/result-main.component\";\r\nimport ResultSearchComponent from \"./components/result-search.component\";\r\n\r\nimport StretchInSelectPlugin from \"./plugin/stretch-in-select.plugin\";\r\nimport SearchInSelectPlugin from \"./plugin/search-in-select.plugin\";\r\n\r\nimport VisitorPattern from \"./components/visitor.pattern\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n  window.BX = {\r\n    TemplateFolder: '',\r\n    message: function (path) {\r\n      return this[path]\r\n    }\r\n  }\r\n\r\n  // выподающий список select\r\n  const dropDownSelect = new DropdownSelect('.dropdown--select',{\r\n    dropdownToggleSelector: '.dropdown__toggle',\r\n    dropdownOptionsWrapperSelector: '.dropdown--select .dropdown__options',\r\n    dropdownOptionSelector: '.dropdown__item'\r\n  })\r\n  dropDownSelect.accept(VisitorPattern.positionMod)\r\n          .upgrade()\r\n\r\n  // выподающий список поиск\r\n  new DropdownInput('.dropdown--input',{\r\n    dropdownToggleSelector: '.dropdown__toggle',\r\n    dropdownOptionsWrapperSelector: '.dropdown--input .dropdown__options',\r\n    dropdownOptionSelector: '.dropdown__item'\r\n  })\r\n\r\n  // панель которая регулирует ширина выподающего списка\r\n  new StretchInSelectPlugin('.js-option-panel',\r\n    '.dropdown__options',\r\n    'dropdown__options--stretch')\r\n\r\n  // панель которая реализует поиск выподающего списка\r\n  new SearchInSelectPlugin('.js-option-panel','.dropdown__search-box')\r\n\r\n  // модалка фильтр\r\n  new Modal('.js-filter-modal',\r\n    {modalGroup: '[data-sumbiot-modal-top]', closeClickOverlay: false})\r\n            .accept(VisitorPattern.modalsStandardMod)\r\n            .upgrade()\r\n  // модалка добавить сутрудника\r\n  new Modal('.js-add-user-modal',\r\n    {modalGroup: '[data-sumbiot-modal-top]', closeClickOverlay: false})\r\n            .accept(VisitorPattern.modalsStandardMod)\r\n            .upgrade()\r\n\r\n  // модалка редактировать сотрудника\r\n  new ModalDynamics('.js-edit-user-modal',\r\n    {modalSelector:'#edit-user-modal', modalWrapper: '.js-wrapper-modal', closeClickOverlay: false})\r\n    .accept(VisitorPattern.editUserMod).upgrade()\r\n\r\n  // модалка удалить сотрудника / удостоверение\r\n  new ModalDynamics('.js-delete-user-and-card-modal',\r\n    {modalSelector:'#delete-user-or-card-modal', closeClickOverlay: false})\r\n    .accept(VisitorPattern.modalsUnityDeleteMod).upgrade()\r\n\r\n  // модалка добавить / редактировать / продлить удостоверение\r\n  new ModalDynamics('.js-edit-card-modal',\r\n    {modalSelector:'#edit-card-modal', modalWrapper: '.js-wrapper-modal', closeClickOverlay: false})\r\n    .accept(VisitorPattern.modalsUnityMod).upgrade()\r\n\r\n  // модалка добавление HSE\r\n  new ModalDynamics('.js-add-hse-modal',\r\n    {modalSelector:'#add-hse-modal', closeClickOverlay: false})\r\n    .accept(VisitorPattern.addHseMod).upgrade(dropDownSelect)\r\n\r\n  // модалка редактировать HSE\r\n  new ModalDynamics('.js-edit-hse-modal',\r\n    {modalSelector:'#edit-hse-modal', modalWrapper: '.js-wrapper-modal', closeClickOverlay: false})\r\n    .accept(VisitorPattern.editHseMod).upgrade()\r\n\r\n\r\n  // аккардион\r\n  new Accordion('.js-accordion', {contentActive: 'result__info--active', display: 'grid'})\r\n                .accept(VisitorPattern.accordionParentMod)\r\n                .upgrade()\r\n\r\n\r\n  // компонент вывод всех сотрудников на главной\r\n  const mainResult = new ResultMainComponent('#main-result')\r\n  // компонент вывод результатов работы фильтра\r\n  const filterResult = new ResultFilterComponent('#filter-result')\r\n  // компонент вывод результатов работы поиска\r\n  const searchResult = new ResultSearchComponent('#search-result')\r\n\r\n  // компонент добавления сотрудника\r\n  new FormAddUserComponent('#add-user', {\r\n    dropDown: dropDownSelect,\r\n    partners: [\r\n      {name: 'mainResult', component: mainResult},\r\n      {name: 'filterResult', component: filterResult},\r\n      {name: 'searchResult', component: searchResult}\r\n    ]\r\n  })\r\n  // компонент редактировать сотрудника\r\n  new FormEditUserComponent('#edit-user', {\r\n    dropDown: dropDownSelect\r\n  })\r\n\r\n  // компонент добавить / редактировать / продлить удостоверение\r\n  new FormAddOrEditCardComponent('#edit-card')\r\n\r\n  // компонент удалить сотрудника / удостоверение\r\n  new FormDeleteUserOrCardComponent('#delete-user-or-card', {\r\n    partners: [\r\n      {name: 'mainResult', component: mainResult},\r\n      {name: 'filterResult', component: filterResult},\r\n      {name: 'searchResult', component: searchResult}\r\n    ]\r\n  })\r\n\r\n  // компонент добавить должность HSE\r\n  new FormAddOrEditHseComponent('#add-hse')\r\n\r\n  // компонент редактировать должность HSE\r\n  new FormAddOrEditHseComponent('#edit-hse')\r\n\r\n  // компонент фильтр\r\n  new FormFilterComponent('#filter', {\r\n    dropDown: dropDownSelect,\r\n    partners: [\r\n      {name: 'mainResult', component: mainResult},\r\n      {name: 'filterResult', component: filterResult},\r\n      {name: 'searchResult', component: searchResult}\r\n    ]\r\n  })\r\n\r\n  // компонент Поиск\r\n  new FormSearchComponent('#search-otipb', {\r\n    partners: [\r\n      {name: 'mainResult', component: mainResult},\r\n      {name: 'filterResult', component: filterResult},\r\n      {name: 'searchResult', component: searchResult}\r\n    ]\r\n  })\r\n\r\n})\r\n\r\n\r\n"],"names":["ModalCore","accept","visitor","this","Modal","constructor","triggerSelector","modalSelector","modalGroup","closeSelector","closeClickOverlay","arguments","length","undefined","super","_trigger","modal","document","querySelector","dataset","sumbiotTarget","_close","_modalGroupSelector","_windows","querySelectorAll","_closeClickOverlay","_init","hideAllModals","_showHandler","_closeHandler","forEach","classList","add","style","display","addEventListener","e","target","contains","slice","parentElement","preventDefault","stopPropagation","_show","setTimeout","blur","_closeModal","_closeModalOverlay","window","key","keyCode","_closeModalEscape","modals","ModalDynamics","static","input","createElement","setAttribute","options","_wrapperModalSelector","modalWrapper","_wrapperElementSelector","elementWrapper","_existsElementForPasteIdSelector","existsElementForPasteId","_triggerEvent","_modalPosition","_elementPosition","closest","_wpapper","append","id","elementForPasteId","createInput","prepend","AccordionCore","Accordion","triggersSelector","headActive","contentActive","hideOpen","_triggerSelector","_headActive","_contentActive","_display","_hideOpen","_toggleHandler","triggerElement","toggleContent","nextElementSibling","element","_toggle","remove","toggle","DropdownCore","Dropdown","dropdownSelector","dropdownToggleSelector","dropdownOptionsWrapperSelector","_dropdownSelector","_dropdownToggleSelector","_listDropdowns","_listDropdownsOptions","hideAllDropdowns","dropdownOpen","_target","dropdown","_toggleOptions","DropdownSelect","_dropdownOptionSelector","dropdownOptionSelector","_initInput","matches","select","optionActive","showOption","option","backgroundColor","innerHTML","innerText","getAttribute","removeAttribute","previousElementSibling","selectOption","selectName","insertAdjacentElement","reset","formNode","toggles","inputs","DropdownInput","_searchHandler","_showOptionsWrapper","_activeInput","flag","valueInput","value","trim","Array","from","toUpperCase","includes","Component","$el","hide","_onHide","show","_onShow","Form","form","controls","Object","keys","control","isValid","isFormValid","validators","validator","clearError","$control","firstElementChild","insertAdjacentHTML","setError","clear","Validators","apiService","componentBx","async","action","data","BX","ajax","runComponentAction","mode","error","status","functionName","response","JSON","parse","result","ChainingSelectInFormPlugin","selectorA","selectATriggerSelector","callAction","selectorB","resetParams","activeOption","renderTemplate","selectorWherePasteOptions","$form","tagName","$selectA","callActionA","$selectB","$pasteOptions","resetParamsB","renderTemplateB","_handlerEvent","fillSelectB","idSelectA","formData","FormData","_resetSelectB","useRequest","isArray","html","map","join","console","group","errors","message","code","customData","groupEnd","stack","deleteOptions","LoaderComponent","loading","success","failure","activeClass","title","img","$img","$massage","text","removeLoader","optionSelectTemplate","_ref","ID","NAME","FormAddUserComponent","instanceDropDown","dropDown","partners","submitHandler","bind","E_FIO","ID_DIVISION","required","ID_DEPARTMENT","ID_MATRIX_WORKS","E_EMPLOYEE_STATUS","chainSelect","loader","mainResult","find","partner","name","component","unshift","fio","div","createTextNode","optionsUser","FormFilterComponent","resetHandler","DATE_BEGIN","DATE_END","ID_PROGRAM","filterResult","isAccess","getAccessAdmin","count","register","Support","elementSelector","arrayClasses","searchSelector","attributeTemplate","userInfoTemplate","idUser","division","department","work","build","cardPlugTemplate","userCardInfoTemplate","cards","training","customUser","card","_ref2","idCard","programName","cardNumber","attestationDate","nextAttestationDate","cardTemplate","trainingTemplate","cardRecertificationTemplate","FormEditUserComponent","getData","call","idTimeout","fioInput","divisionOptions","$divisionItem","optionsKey","values","click","clearTimeout","htmlUserInfo","htmlCardInfo","parent","user","info","removeClass","FormDeleteUserOrCardComponent","removeElementInArray","idMatrixWorks","FormAddOrEditCardComponent","C_ATTESTATION_DATE","C_NEXT_ATTESTATION_DATE","C_CARD_NUMBER","attDateInput","nextAttDateInput","cardNumberInput","FormAddOrEditHseComponent","htmlUserWork","FormSearchComponent","SEARCH","STATUS","optionsWrap","getFio","btnSubmit","disabled","searchResult","bntNext","nextBtn","resetRender","btnHandler","paddingRight","btn","removeEventListener","btnReset","marginLeft","PaginationCore","Pagination","paginationInSelector","resultInSelector","listElements","perpage","page","counter","active","selectorForInserts","$paginationInElement","$resultInElement","_listElements","_countListElements","_perpage","_pagesCount","Math","ceil","_page","_counter","_switchPage","_switchingHandler","start","end","resSlice","_counterPage","_removeEventListenerClick","_paginationCreate","showPage","number","pagination","startPage","endPage","page4left","page3left","page2left","page1left","page4right","page3right","page2right","page1right","pageActive","_addEventListenerClick","startNumber","userMainTemplate","$user","htmlInUser","userPlugTemplate","ResultFilterComponent","$pasteInElement","index","findIndex","splice","ResultMainComponent","getAllUsers","btns","getUsers","href","ResultSearchComponent","StretchInSelectPlugin","panelsSelector","stretchSelector","_panelsElements","_stretchSelector","_activeClass","_stretchHandler","panel","stretchBtn","panelElement","stretchBtnElement","toLowerCase","SearchInSelectPlugin","_searchSelector","searchBtn","searchInput","resetBtn","_toggleSearch","_searchOptions","clipboardData","_reset","searchBox","plug","hidden","focus","VisitorPattern","instanceClass","upgrade","editTitle","btnText","editAction","addUserId","deleteUserId","addClosestClass","removeClosestClass","modalPosition","innerHeight","clientY","wrap","selectPosition","documentElement","scrollHeight","pageY","toggleParent","TemplateFolder","path","dropDownSelect","positionMod","modalsStandardMod","editUserMod","modalsUnityDeleteMod","modalsUnityMod","addHseMod","editHseMod","accordionParentMod"],"sourceRoot":""}